<!DOCTYPE html>
<head>
    <meta charset="utf-8" />
    <title>MTGAHelper - The ultimate collection tracker for Magic: The Gathering Arena</title>
    <link rel="icon" type="image/png" href="/images/wcC.png" />
    <script src="js/common.js"></script>
    <script src="js/util.js"></script>
    <script src="js/ajax.js"></script>
    <script src="js/submitCollection.js"></script>
    <link rel="stylesheet" href="css/bulma-pageloader.min.css" />
    <link rel="stylesheet" href="css/bulma-tooltip.min.css" />
    <link rel="stylesheet" href="css/bulma-switch.min.css" />
    <link rel="stylesheet" href="css/bulma-checkradio.min.css" />
    <!--<link rel="stylesheet" href="css/bulma-accordion.min.css" />
    <script type="text/javascript" src="/js/bulma-accordion.min.js"></script>-->
    <link rel="stylesheet" href="css/floating-icons.css" />
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.23.0/moment.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/numeral.js/2.0.6/numeral.min.js"></script>
    <style>
        .modalTopLevel {
            /* Above the page loader */
            z-index: 2000000001 !important;
        }

        .cardFrame {
            color: #000 !important;
        }

            .cardFrame td {
                padding: 0 !important;
            }

                .cardFrame td div {
                    padding: 0.2rem !important;
                }

        .footerLinks a {
            margin-right: 2rem;
        }

        .pageloader {
            background-image: url('/images/loadingBg.jpg');
            background-color: #000;
            background-repeat: no-repeat;
        }

        img.iconMana {
            width: 1rem;
            height: 1rem;
            margin: 0 0.1rem;
        }

        div.packInfo {
            height: 30rem;
        }

        ul.noBullet li {
            list-style-type: none;
        }

        ul.pagination-list {
            margin: 0 !important;
        }

        div.MtgGoldfish h6, div.MtgGoldfish h6 a {
            color: #f26739;
        }

        div.ChannelFireball h6, div.ChannelFireball h6 a {
            color: #21898C;
        }

        .is-hoverable {
            cursor: pointer;
        }

        .bold {
            font-weight: bold;
        }

        img.wc {
            position: relative;
            top: 3px;
            height: 1rem;
        }

        .nowrap {
            white-space: nowrap;
        }

        div.wrapper-tablescroll {
            overflow: hidden;
            overflow-y: scroll;
            height: 600px;
        }

        .cardHover {
            text-decoration: underline;
            text-decoration-style: dotted;
            cursor: help;
        }

        .loot span {
            margin-left: 1rem;
        }

        table.darkTable {
            background: none;
            color: #aaa !important;
        }

            table.darkTable tbody td {
                color: #aaa !important;
                border: none !important;
                font-weight: bold !important;
                padding-left: 0 !important;
                padding-right: 0 !important;
            }

            table.darkTable thead th {
                color: #aaa !important;
                border: none !important;
            }

            table.darkTable tfoot th {
                color: #aaa !important;
                border: none !important;
                background: #111;
            }

        tr.nohover:hover {
            background: none !important;
        }

        .herobg1 {
            background: url(/images/hero1-bg.jpg);
            background-repeat: no-repeat;
        }

        .hero2bg {
            /*width: 200px;
            height: 200px;
            display: block;
            position: relative;*/
            background: url(/images/hero2-bg.png);
            background-repeat: no-repeat;
        }

        /*.hero2bg::after {
                content: "";
                background: url(/images/hero2-bg.png);
                opacity: 0.2;
                top: 0;
                left: 0;
                bottom: 0;
                right: 0;
                position: absolute;
                z-index: -1;
            }*/



        ul.paginator {
            display: inline;
            padding: 0;
            list-style-type: none;
        }

        .paginator a {
            color: #999;
        }

        .paginator .current {
            color: red;
        }

        .paginator li {
            display: inline;
            margin: 5px 5px;
        }

        .paginator a.first::after {
            content: '...'
        }

        .paginator a.last::before {
            content: '...'
        }
    </style>
</head>
<body>
    <div id="vueApp">
        <div v-cloak class="content">
            <nav class="navbar is-fixed-top" role="navigation" aria-label="main navigation" style="min-height:unset;">
                <div class="navbar-brand" style="min-height:unset;">
                    <!--v-on:click="loadPage(pageHome);"-->
                    <img src="/images/wcC.png">
                    <a role="button" class="navbar-burger burger" data-target="navbarTop" style="height:unset;" v-on:click="navbarBurgerActive = !navbarBurgerActive" v-bind:class="navbarBurgerActive ? 'is-active' : ''">
                        <span aria-hidden="true"></span>
                        <span aria-hidden="true"></span>
                        <span aria-hidden="true"></span>
                    </a>
                </div>
                <div id="navbarTop" class="navbar-menu" v-bind:class="navbarBurgerActive ? 'is-active' : ''">
                    <div class="navbar-start">
                        <!--<a class="navbar-item" v-bind:class="currentSection === sectionGeneral ? 'bold' : ''" @click.prevent="currentSection = sectionGeneral">
                            <i class="fas fa-bullhorn is-size-5" style="margin-right:0.2rem;"></i>
                            General
                        </a>-->
                        <!--<template v-if="currentSection === sectionGeneral">-->
                        <a href="/news" class="navbar-item tooltip is-tooltip-right" v-bind:class="currentPage === pageNews ? 'bold' : ''" @click.prevent="loadPage(pageNews);" data-tooltip="Latest MTGA information">
                            News
                        </a>
                        <!--<a href="/articles" class="navbar-item tooltip is-tooltip-right" v-bind:class="currentPage === pageArticles ? 'bold' : ''" @click.prevent="loadPage(pageArticles);" data-tooltip="Useful reading material">
                            Articles
                        </a>-->
                        <!--<a class="navbar-item" v-bind:class="currentPage === pageStreams ? 'bold' : ''" @click.prevent="loadPage(pageStreams);">
                            Streams
                        </a>-->
                        <a href="/meta" class="navbar-item tooltip is-tooltip-right" v-bind:class="currentPage === pageMeta ? 'bold' : ''" @click.prevent="loadPage(pageMeta);" data-tooltip="Be competitive">
                            Meta
                        </a>
                        <a href="/decks" class="navbar-item tooltip is-tooltip-right" v-bind:class="currentPage === pageDecks ? 'bold' : ''" @click.prevent="loadPage(pageDecks);" data-tooltip="Browse all decks">
                            Decks
                        </a>
                        <!--</template>-->
                    </div>
                    <div class="navbar-end">
                        <!--<template v-if="currentSection === sectionMyData">
                            <a class="navbar-item" v-bind:class="currentPage === pageCollection ? 'bold' : ''" @click.prevent="loadPage(pageCollection);">
                                Collection
                            </a>
                            <a class="navbar-item" v-bind:class="currentPage === pageHistory ? 'bold' : ''" @click.prevent="loadPage(pageHistory);">
                                History
                            </a>
                            <a class="navbar-item" v-bind:class="currentPage === pageScrapers ? 'bold' : ''" @click.prevent="loadPage(pageScrapers);">
                                Sources of decks
                            </a>
                            <a class="navbar-item" v-bind:class="currentPage === pageDecksTracked ? 'bold' : ''" @click.prevent="loadPage(pageDecksTracked);">
                                Decks tracked
                            </a>
                            <a class="navbar-item is-size-7" v-bind:class="currentPage === pageDashboardSummary ? 'bold' : ''" @click.prevent="loadPage(pageDashboardSummary);">
                                Missing cards Summary
                            </a>
                            <a class="navbar-item is-size-7" v-bind:class="currentPage === pageDashboardDetails ? 'bold' : ''" @click.prevent="loadPage(pageDashboardDetails);">
                                Missing cards Details
                            </a>
                        </template>-->
                        <div class="navbar-item">
                            <div class="buttons">
                                <a class="button" v-bind:class="[modelUser.collection.cards.length === 0 ? 'is-primary' : '']"
                                   v-on:click="showUploadCollectionModal = true">
                                    <strong>Import collection</strong>
                                </a>
                            </div>
                        </div>
                        <div class="navbar-item has-dropdown is-hoverable">
                            <a class="navbar-link">
                                <!--v-bind:class="currentSection === sectionMyData ? 'bold' : ''" v-on:click="currentSection = sectionMyData"-->
                                <i class="fas fa-table is-size-5" style="margin-right:0.2rem;"></i>
                                My data
                            </a>
                            <div class="navbar-dropdown">
                                <a href="/my/collection" class="navbar-item" v-bind:class="currentPage === pageCollection ? 'bold' : ''" @click.prevent="loadPage(pageCollection);">
                                    Collection
                                </a>
                                <a href="/my/history" class="navbar-item" v-bind:class="currentPage === pageHistory ? 'bold' : ''" @click.prevent="loadPage(pageHistory);">
                                    History
                                </a>
                                <hr class="navbar-divider">
                                <a href="/my/trackedDecks" class="navbar-item" v-bind:class="currentPage === pageDecksTracked ? 'bold' : ''" @click.prevent="loadPage(pageDecksTracked);">
                                    Tracked decks
                                </a>
                                <a href="/my/missingCardsSummary" class="navbar-item" v-bind:class="currentPage === pageDashboardSummary ? 'bold' : ''" @click.prevent="loadPage(pageDashboardSummary);">
                                    Missing cards Summary
                                </a>
                                <a href="/my/missingCardsDetails" class="navbar-item" v-bind:class="currentPage === pageDashboardDetails ? 'bold' : ''" @click.prevent="loadPage(pageDashboardDetails);">
                                    Missing cards Details
                                </a>
                                <hr class="navbar-divider">
                                <a href="/my/sources" class="navbar-item" v-bind:class="currentPage === pageScrapers ? 'bold' : ''" @click.prevent="loadPage(pageScrapers);">
                                    Sources of decks
                                </a>
                                <a href="/my/decks" class="navbar-item" @click.prevent="loadPage(pageCustomDecks);">
                                    Custom decks
                                </a>
                            </div>
                        </div>
                        <div class="navbar-item has-dropdown is-hoverable">
                            <a class="navbar-link">
                                <i class="fas fa-cog is-size-4" style="margin-right:0.2rem;"></i>
                            </a>
                            <div class="navbar-dropdown">
                                <a href="/profile" class="navbar-item" v-bind:class="currentPage === pageProfile ? 'bold' : ''" @click.prevent="loadPage(pageProfile);">
                                    Profile
                                </a>
                                <a href="/lands" class="navbar-item" v-bind:class="currentPage === pageLands ? 'bold' : ''" @click.prevent="if (modelLands.length === 0) { getLands(); } loadPage(pageLands);">
                                    Lands
                                </a>
                            </div>
                        </div>
                        <div v-if="modelUser.collection.cards.length > 0" class="loot navbar-item">
                            <span v-if="modelUser.collection.constructedRank.class === null">&nbsp;</span>
                            <span v-else class="tooltip is-tooltip-left" v-bind:data-tooltip="'Constructed Ranking: ' + modelUser.collection.constructedRank.class + ' ' + modelUser.collection.constructedRank.level">
                                <img v-bind:src="'/images/ranks/constructed/' + modelUser.collection.constructedRank.class + '_' + modelUser.collection.constructedRank.level + '.png'" />
                            </span>
                            <span v-if="modelUser.collection.constructedRank.class === null">&nbsp;</span>
                            <span v-else class="tooltip is-tooltip-left" v-bind:data-tooltip="'Limited Ranking: ' + modelUser.collection.limitedRank.class + ' ' + modelUser.collection.limitedRank.level">
                                <img v-bind:src="'/images/ranks/limited/' + modelUser.collection.limitedRank.class + '_' + modelUser.collection.limitedRank.level + '.png'" />
                            </span>
                            <span class="tooltip is-tooltip-left" data-tooltip="Common wildcards">
                                {{modelUser.collection.mtgaUserProfile.wildcards.Common}}
                                <img class="wc" src="/images/wcC.png" />
                            </span>
                            <span class="tooltip is-tooltip-left" data-tooltip="Uncommon wildcards">
                                {{modelUser.collection.mtgaUserProfile.wildcards.Uncommon}}
                                <img class="wc" src="/images/wcU.png" />
                            </span>
                            <span class="tooltip is-tooltip-left" data-tooltip="Rare wildcards">
                                {{modelUser.collection.mtgaUserProfile.wildcards.Rare}}
                                <img class="wc" src="/images/wcR.png" />
                            </span>
                            <span class="tooltip is-tooltip-left" data-tooltip="Mythic wildcards">
                                {{modelUser.collection.mtgaUserProfile.wildcards.Mythic}}
                                <img class="wc" src="/images/wcM.png" />
                            </span>
                            <span class="tooltip is-tooltip-left" data-tooltip="Gold">
                                {{numeral(modelUser.collection.mtgaUserProfile.gold).format('0,0')}}
                                <img class="wc" src="/images/inventory_gold.png" />
                            </span>
                            <span class="tooltip is-tooltip-left" data-tooltip="Gems">
                                {{numeral(modelUser.collection.mtgaUserProfile.gems).format('0,0')}}
                                <img class="wc" src="/images/inventory_gem.png" />
                            </span>
                            <span class="tooltip is-tooltip-left" data-tooltip="Vault progress">
                                {{numeral(modelUser.collection.mtgaUserProfile.vaultProgress).format('0.0')}} %
                                <img class="wc" src="/images/vault.png" />
                            </span>
                        </div>
                        <div v-else class="navbar-item">
                            <div class="buttons">
                                <a class="button" v-on:click="showLoginModal = true; $nextTick(() => txtLoginId.focus());">
                                    Login with a user id
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </nav>
            <div style="margin-top:3.5rem;">
                <template v-if="modelUser.collection.cards.length === 0 && isLoadingData('collectionGet') === false && isPagePublic === false">
                    <div class="hero herobg1 is-info">
                        <div class="hero-body">
                            <h2 class="title is-2" style="text-shadow: 4px 4px 10px #000000;">
                                MTGAHelper &mdash; The ultimate collection tracker for Magic: The Gathering Arena
                            </h2>
                            <button class="button is-large" style="margin-left:4rem;" v-on:click="showUploadCollectionModal = true">Start by uploading your collection</button>
                        </div>
                    </div>
                    <div class="hero is-primary hero2bg" style="margin-bottom:1rem;">
                        <div class="hero-body" style="text-shadow: 1px 1px 20px #000000;">
                            <h4 class="title is-4">
                                Optimize your deckbuilding experience &mdash; Never waste another wildcard.
                            </h4>
                            <h4 class="subtitle is-4">
                                Grow your collection more efficiently by having a perfect picture of
                                <a onclick="vueApp.loadPage(pageDashboardSummary);" style="color:aquamarine;">
                                    which packs to open
                                </a>
                                and
                                <a onclick="vueApp.loadPage(pageDashboardDetails);" style="color:aquamarine; display: inline-block;">
                                    which cards to craft
                                </a>.
                            </h4>
                            <h5 class="subtitle is-5" style="margin-bottom:0;">
                                Upload your collection and
                                <a onclick="vueApp.loadPage(pageScrapers);" style="color:aquamarine;">
                                    start tracking your favorite decks
                                </a>
                                !
                            </h5>
                        </div>
                    </div>
                </template>
                <div v-if="currentPage === pageHome">
                    <h4 class="title is-4">
                        Welcome to MTGAHelper &mdash; The most complete resource hub for Magic: The Gathering Arena
                    </h4>
                    <p>
                        You will find here all the most important resources and information about Magic: The Gathering Arena, curated and grouped in one place.
                    </p>
                    <p>
                        Here are the most interesting features, among others:
                        <ul>
                            <li>
                                Collection tracker: By uploading your collection, you get access to a whole new level of insight. Select your tracked decks and
                                <ul>
                                    <li>Know which packs to prioritize opening in order to complete your tracked decks</li>
                                    <li>Know which cards to craft to progress the most towards the completion of your tracked decks</li>
                                    <li>Identify which decks you are closest to complete</li>
                                </ul>
                            </li>
                            <li>
                                Always know about the latest meta
                            </li>
                        </ul>
                    </p>
                </div>
                <div v-else-if="currentPage === pageNews">
                    <h4 class="title is-4">
                        Always stay updated on Magic: The Gathering Arena
                    </h4>
                    <!--<h5 class="subtitle is-5">
                        Choose which sources of news to follow and stay updated in the glimpse of an eye
                    </h5>-->
                    <div class="columns is-multiline">
                        <div class="column is-one-quarter" v-for="news in modelNews">
                            <div class="box" v-bind:class="news.type.replace(/ /g, '')">
                                <article>
                                    <div>
                                        <h6 class="title is-6">
                                            {{news.type}}
                                        </h6>
                                        <a v-bind:href="news.url" target="_blank">
                                            <img v-bind:src="news.imageUrl">
                                        </a>
                                    </div>
                                    <div class="media-content">
                                        <div class="content">
                                            <h6 class="title is-6">
                                                <a v-bind:href="news.url" target="_blank">
                                                    {{news.title}}
                                                </a>
                                            </h6>
                                            <p>
                                                <a v-bind:href="news.url" target="_blank">
                                                    {{news.description}}
                                                </a>
                                            </p>
                                            <h7 class="subtitle is-7" style="margin-bottom:0;">{{moment(news.datePosted).fromNow()}}</h7>
                                        </div>
                                    </div>
                                </article>
                            </div>
                        </div>
                    </div>
                </div>
                <!--<div v-else-if="currentPage === pageStreams">
                    <h4 class="title is-4">
                        Streams
                    </h4>
                    Coming up
                </div>-->
                <div v-else-if="currentPage === pageArticles">
                    <h4 class="title is-4">
                        Some useful readings for players of Magic: The Gathering Arena
                    </h4>
                    <div class="columns is-multiline">
                        <div class="column is-one-quarter" v-for="article in modelArticles">
                            <div class="box">
                                <article>
                                    <div>
                                        <a v-bind:href="'/articles/' + article.id" @click.prevent="modelArticleSelected = article; loadPage(pageArticleSelected, true, article.id);">
                                            <img v-bind:src="article.imageUrl">
                                        </a>
                                    </div>
                                    <div class="media-content">
                                        <div class="content">
                                            <h6 class="title is-6">
                                                <a v-bind:href="'/articles/' + article.id" @click.prevent="modelArticleSelected = article; loadPage(pageArticleSelected, true, article.id);">
                                                    {{article.title}}
                                                </a>
                                            </h6>
                                            <p>
                                                <a v-bind:href="'/articles/' + article.id" @click.prevent="modelArticleSelected = article; loadPage(pageArticleSelected, true, article.id);">
                                                    {{article.description}}
                                                </a>
                                            </p>
                                            <h7 class="subtitle is-7" style="margin-bottom:0;">{{moment(article.datePosted).fromNow()}}</h7>
                                        </div>
                                    </div>
                                </article>
                            </div>
                        </div>
                    </div>
                </div>
                <div v-else-if="currentPage === pageArticleSelected">
                    <h4 class="title is-4">
                        {{modelArticleSelected.title}}
                    </h4>
                    <div class="columns">
                        <div class="column is-one-quarter">
                            <img v-bind:src="modelArticleSelected.imageUrl">
                        </div>
                        <div class="column" v-html="modelArticleSelected.text">
                        </div>
                    </div>
                </div>
                <div v-else-if="currentPage === pageMeta">
                    <h4 class="title is-4">
                        Meta
                    </h4>
                    Coming up
                </div>
                <div v-else-if="currentPage === pageDecks">
                    <h4 class="title is-4">
                        {{modelDecks.totalDecks}} decks
                    </h4>
                    <div v-if="isNotificationActive('tipDecksTrackedLink')" class="notification">
                        <button class="delete" v-on:click="stopNotification('tipDecksTrackedLink')"></button>
                        <span class="icon has-text-info"><i class="fas fa-info-circle"></i></span>
                        If you want to see which decks you can build with your current collection, go to the
                        <a v-on:click="loadPage(pageDecksTracked)">Tracked decks</a> page
                    </div>
                    <table class="table is-narrow" style="width:unset;">
                        <thead>
                            <tr>
                                <th colspan="5">Filters <span class="smallText gray">(Press Enter)</span></th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>
                                    <div class="field">
                                        <div class="control">
                                            <label class="label is-small">Name</label>
                                            <input class="input is-small" type="text" v-model="modelDecks.filters.name" v-on:change="filterDecks(false);" size="12" placeholder="e.g. Rainbow" />
                                        </div>
                                    </div>
                                </td>
                                <td>
                                    <div class="field">
                                        <div class="control">
                                            <label class="label is-small">
                                                Source
                                            </label>
                                            <select class="input is-small" v-model="modelDecks.filters.scraperTypeId" v-on:change="filterDecks(false);">
                                                <option v-for="source in ['(All)'].concat(modelDecks.decks.map((i) => i.scraperTypeId).filter((value, index, self) => self.indexOf(value) === index).sort())"
                                                        v-bind:value="source">
                                                    {{ formatScraperKey(source, true) }}
                                                </option>
                                            </select>
                                        </div>
                                    </div>
                                </td>
                                <td>
                                    <div class="field">
                                        <div class="control">
                                            <label class="label is-small">Color</label>
                                            <input class="input is-small" type="text" v-model="modelDecks.filters.color" v-on:change="filterDecks(false);" size="12" placeholder="e.g. WUBRG" />
                                        </div>
                                    </div>
                                </td>
                                <td>
                                    <div class="field">
                                        <div class="control">
                                            <label class="label is-small">
                                                Date
                                                <span class="icon has-text-info tooltip is-tooltip-multiline" style="height:inherit;"
                                                      data-tooltip="You can type an exact date or specify a range (by using &gt; before your date)">
                                                    <i class="fas fa-info-circle"></i>
                                                </span>
                                            </label>
                                            <input class="input is-small" type="text" v-model="modelDecks.filters.date" v-on:change="filterDecks(false);" size="14"
                                                   placeholder="e.g. &gt;2019-01-21" />
                                        </div>
                                    </div>
                                </td>
                                <td>
                                    <div class="field">
                                        <div class="control">
                                            <label class="label is-small">Card</label>
                                            <input class="input is-small" type="text" v-model="modelDecks.filters.card" v-on:change="filterDecks(false);" size="12" placeholder="e.g. gate colo" />
                                        </div>
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <div>
                        Showing {{paginatedDecks.length}} of {{modelDecksFiltered.decks.length}} decks filtered

                        <button v-if="decksAreFiltered(false)" v-on:click="clearFiltersDecks(false);" :disabled="isLoadingData(pageDecks)" class="button is-danger is-small tooltip" data-tooltip="Reset the filters">
                            Clear filters
                        </button>
                        <nav v-if="getDecksPages(false).length > 1" class="pagination" role="navigation" aria-label="pagination">
                            <ul class="pagination-list">
                                <li v-for="pageNumber in getDecksPages(false)" style="list-style-type: none;">
                                    <span v-if="pageNumber === '...'" class="pagination-ellipsis">&hellip;</span>
                                    <a v-else class="pagination-link" v-bind:class="[ modelDecksFiltered.currentPage === pageNumber ? 'is-current' : '']"
                                       v-on:click="modelDecksFiltered.currentPage = pageNumber" v-bind:aria-label="'Go to page ' + pageNumber">{{ pageNumber + 1 }}</a>
                                </li>
                            </ul>
                        </nav>
                    </div>
                    <span v-if="isLoadingData(pageDecks)" class="button is-loading"></span>
                    <div v-else-if="getScrapersFlattened().length === 0">
                        <span class="button is-loading"></span>
                        <span class="is-size-5">
                            (...Initializing...Please refresh in 1 minute...)
                        </span>
                    </div>
                    <div v-else class="wrapper-tablescroll">
                        <table class="table is-narrow is-hoverable">
                            <thead>
                                <tr>
                                    <th>Name</th>
                                    <th>Source</th>
                                    <th>Color</th>
                                    <th>Date</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr v-for="iDeck in paginatedDecks" v-on:click="getDeck(iDeck)" v-bind:class="[iDeck.id === modelDeckSelected.id ? 'is-selected' : '']">
                                    <td>
                                        <a v-bind:href="getDeckUrl(iDeck)" @click.prevent="getDeck(iDeck)">
                                            {{iDeck.name}}
                                        </a>
                                    </td>
                                    <td>
                                        {{formatScraperKey(iDeck.scraperTypeId, true)}}
                                    </td>
                                    <td>
                                        <img v-for="c in iDeck.color.split('')" v-bind:src="iconMana[c]" class="iconMana" />
                                    </td>
                                    <td class="nowrap">{{moment(iDeck.dateCreated).format('YYYY-MM-DD')}}</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <nav v-if="getDecksPages(false).length > 1" class="pagination" role="navigation" aria-label="pagination">
                        <ul class="pagination-list">
                            <li v-for="pageNumber in getDecksPages(false)" style="list-style-type: none;">
                                <span v-if="pageNumber === '...'" class="pagination-ellipsis">&hellip;</span>
                                <a v-else class="pagination-link" v-bind:class="[ modelDecksFiltered.currentPage === pageNumber ? 'is-current' : '']"
                                   v-on:click="modelDecksFiltered.currentPage = pageNumber" v-bind:aria-label="'Go to page ' + pageNumber">{{ pageNumber + 1 }}</a>
                            </li>
                        </ul>
                    </nav>
                </div>
                <div v-else-if="currentPage === pageDeckSelected">
                    <span v-if="isLoadingData(loadDeck)" class="button is-loading"></span>
                    <div v-else>
                        <h4 class="title is-4">
                            <a v-bind:href="modelDeckSelected.url" target="_blank">
                                {{modelDeckSelected.name}}
                            </a>
                            from
                            <a v-bind:href="dictScraperUrl[modelDeckSelected.scraperTypeId]" target="_blank">
                                {{formatScraperKey(modelDeckSelected.scraperTypeId, true)}}
                            </a>
                            <span v-on:click="deckToShare = modelDeckSelected; showModalShareDeck = true; $nextTick(() => txtShareDeck.select());" style="cursor:pointer;" class="tooltip" data-tooltip="Share this deck">
                                <i class="fas fa-share-alt"></i>
                            </span>
                        </h4>
                        <div class="columns">
                            <div class="column is-one-half">
                                <h5 class="title is-5" style="margin-bottom:0.5rem;">
                                    {{displayTotalCards(modelDeckSelected.cardsMain, false)}}
                                </h5>
                                <!--<table class="table is-narrow cardFrame">-->
                                <table class="table is-narrow">
                                    <tr v-for="c in modelDeckSelected.cardsMain">
                                        <td>
                                            <!--<div v-bind:style="'background-size:100% 100%;background-image:url(\'images/frame' + c.color[0] + '.jpg\');'">-->
                                            <div>
                                                <span v-on:mouseleave="showCard(null)"
                                                      v-on:mouseover="showCard(c.imageCardUrl)" class="cardHover">
                                                    {{c.amount}}x {{c.name}}
                                                </span>
                                            </div>
                                        </td>
                                        <td>
                                            <!--<div v-bind:style="'background-size:100% 100%;background-image:url(\'images/frame' + c.color[0] + '.jpg\');'">-->
                                            <div>
                                                {{c.type}}
                                            </div>
                                        </td>
                                    </tr>
                                </table>
                                <h5 class="title is-5" style="margin-bottom:0.5rem;">
                                    {{displayTotalCards(modelDeckSelected.cardsSideboard, true)}}
                                </h5>
                                <table class="table is-narrow" v-if="modelDeckSelected.cardsSideboard.length > 0">
                                    <tr v-for="c in modelDeckSelected.cardsSideboard">
                                        <td>
                                            <span v-on:mouseleave="showCard(null)"
                                                  v-on:mouseover="showCard(c.imageCardUrl)" class="cardHover">
                                                {{c.amount}}x {{c.name}}
                                            </span>
                                        </td>
                                        <td>{{c.type}}</td>
                                    </tr>
                                </table>
                            </div>
                            <div class="column is-one-half">
                                <h5 class="title is-5" style="margin-bottom:0.5rem;">
                                    Export to Arena
                                </h5>
                                <div v-if="isNotificationActive('tipBo1')" class="notification">
                                    <button class="delete" v-on:click="stopNotification('tipBo1')"></button>
                                    <span class="icon has-text-info"><i class="fas fa-info-circle"></i></span>
                                    You can select only the first part if you prefer Bo1
                                </div>
                                <textarea cols="50" rows="40">{{modelDeckSelected.mtgaImportFormat}}</textarea>
                                <p v-if="modelUser.collection.cards.length > 0">
                                    <span class="icon has-text-info"><i class="fas fa-info-circle"></i></span>
                                    <strong>No more wildcards wasted!</strong>
                                    <br />
                                    Only your collection cards are considered above
                                    (e.g. so you don't craft those Opts unwillingly)
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
                <div v-else-if="currentPage === pageCollection">
                    <span v-if="isLoadingData('collectionGet')" class="button is-loading"></span>
                    <div v-else>
                        <h4 class="title is-4">
                            {{numeral(modelUser.collection.cards.reduce((a, b) => a += b.amount, 0)).format('0,0')}} cards owned
                            {{modelUser.collection.collectionDate.startsWith('0001-01-01') ? '' : '  as of ' + modelUser.collection.collectionDate }}
                        </h4>
                        <div class="columns">
                            <div class="column" v-for="set in computeSets()">
                                <div class="box has-text-centered darkTable" v-bind:style="'padding-left:0.5rem; padding-right:0.5rem; background: url(/images/set-' + set.name + '-pack.png); background-repeat:no-repeat; background-size:cover;'">
                                    <img v-bind:src="'/images/set-' + set.name + '.png'" v-on:click="modelUserCollectionFiltered.filters.set = set.name; modelUserCollectionFiltered.filters.rarity = ''; filterCollection();" style="cursor:pointer;" />
                                    <h6 class="subtitle is-6" style="font-weight:bold;">
                                        {{numeral(set.pct).format('0.00%')}}
                                        <br />
                                        {{set.nbOwned}}
                                        /
                                        {{set.nbTotal}}
                                    </h6>
                                    <table class="table is-narrow darkTable" style="margin:0 auto;">
                                        <tbody>
                                            <tr v-for="rarity in ['Mythic', 'Rare', 'Uncommon', 'Common']" style="cursor:pointer;"
                                                v-on:click="modelUserCollectionFiltered.filters.set = set.name; modelUserCollectionFiltered.filters.rarity = rarity; filterCollection();">
                                                <td class="has-text-centered tooltip" v-bind:data-tooltip="modelUser.collection.cards.filter(i => i.craftedOnly === false && i.set === set.name && i.rarity === rarity).reduce(function(a, b) { return a + b.amount; }, 0) + ' / ' + modelSets.filter(function(i) { return i.name === set.name && i.rarity === rarity.toLowerCase(); }).reduce(function(a, b) { return a + b.totalCards; }, 0) * 4">
                                                    <img v-bind:src="'/images/' + set.name + '-' + rarity.substring(0,1) + '.png'" class="wc" />
                                                    {{numeral(modelUser.collection.cards.filter(i => i.craftedOnly === false && i.set === set.name && i.rarity === rarity).reduce(function(a, b) { return a + b.amount; }, 0) / (modelSets.filter(function(i) { return i.name === set.name && i.rarity === rarity.toLowerCase(); }).reduce(function(a, b) { return a + b.totalCards; }, 0) * 4)).format('0%')}}
                                                </td>
                                                <td class="is-hidden-touch is-hidden-desktop-only">
                                                    {{modelUser.collection.cards.filter(i => i.craftedOnly === false && i.set === set.name && i.rarity === rarity).reduce(function(a, b) { return a + b.amount; }, 0) }}
                                                    /
                                                    {{modelSets.filter(function(i) { return i.name === set.name && i.rarity === rarity.toLowerCase(); }).reduce(function(a, b) { return a + b.totalCards; }, 0) * 4}}
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                        <table class="table is-narrow" style="width:unset;">
                            <thead>
                                <tr>
                                    <th colspan="4">Filters</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>
                                        <label>Set</label>
                                        <select v-model="modelUserCollectionFiltered.filters.set" v-on:change="filterCollection();">
                                            <option v-for="set in modelUserCollectionFiltered.filters.sets" v-bind:value="set">
                                                {{ set == '' ? '(All)' : set }}
                                            </option>
                                        </select>
                                    </td>
                                    <td>
                                        <label>Rarity</label>
                                        <select v-model="modelUserCollectionFiltered.filters.rarity" v-on:change="filterCollection();">
                                            <option v-for="r in modelUserCollectionFiltered.filters.rarities" v-bind:value="r">
                                                {{ r == '' ? '(All)' : r }}
                                            </option>
                                        </select>
                                    </td>
                                    <td>
                                        <div class="field">
                                            <input type="checkbox" id="switchCollectionMissing" name="switchCollectionMissing" class="switch is-danger" v-model="modelUserCollectionFiltered.filters.showMissing" v-on:change="filterCollection()">
                                            <label for="switchCollectionMissing">{{modelUserCollectionFiltered.filters.showMissing ? 'Showing Missing' : 'Showing Collected'}}</label>
                                        </div>
                                    </td>
                                    <td>
                                        <button v-if="collectionIsFiltered()" v-on:click="clearFiltersCollection();" class="button is-danger is-small">
                                            Clear filters
                                        </button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                        <div class="columns">
                            <div class="column" v-for="color in ['W','U','B','R','G','', 'Multicolor', 'Land']">
                                <div class="box">
                                    <div class="columns">
                                        <div class="column is-one-third" style="text-align:right; padding:0.1rem;">
                                            <span v-if="color !== 'Multicolor' && color !== 'Land'" class="tooltip" v-bind:data-tooltip="color == '' ? 'Colorless' : color">
                                                <img v-bind:src="iconMana[color == '' ? 'C' : color]" class="iconMana" style="width:1.5rem; height:1.5rem;" />
                                            </span>
                                            <span v-else-if="color==='Multicolor'" class="tooltip" data-tooltip="Gold">
                                                <img src="/images/color_gold.png" style="width:1.5rem; height:1.5rem;" />
                                            </span>
                                            <span v-else-if="color==='Land'" class="tooltip" data-tooltip="Land">
                                                <img v-bind:src="iconLand" style="width:1.5rem; height:1.5rem;" />
                                            </span>
                                            <span v-else>
                                                {{color}}
                                            </span>
                                        </div>
                                        <div class="column" style="padding:0.1rem;">
                                            <strong>
                                                ({{numeral(modelUserCollectionFiltered.filtered.filter((i) => color === 'Multicolor' ? i.color !== 'Land' && i.color.length > 1 : i.color === color).reduce((a, b) => a += b.amount, 0)).format('0,0')}}
                                                cards)
                                            </strong>
                                        </div>
                                    </div>
                                    <ul class="noBullet" style="margin:0;">
                                        <li v-for="c in modelUserCollectionFiltered.filtered.filter((i) => color === 'Multicolor' ? i.color.length > 1 && i.color !== 'Land' : i.color === color)"
                                            v-on:mouseleave="showCard(null)" v-on:mouseover="showCard(c.imageCardUrl)" class="cardHover" style="list-style-type: none;">
                                            {{c.amount}}x {{c.name}}
                                            <span v-if="c.craftedOnly" class="tooltip" data-tooltip="This card is obtainable only by crafting it">
                                                <i class="fas fa-exclamation-triangle"></i>
                                            </span>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div v-else-if="currentPage === pageHistory">
                    <h4 class="title is-4">History</h4>
                    <div class="columns">
                        <div class="column">
                            <span v-if="isLoadingData('userHistory')" class="button is-loading"></span>
                            <strong v-else-if="modelUserHistory.length === 0">No activity</strong>
                            <table v-else class="table is-narrow is-hoverable">
                                <thead>
                                    <tr>
                                        <th>
                                            Date
                                        </th>
                                        <th>
                                            Cards
                                        </th>
                                        <th>
                                            Gold
                                        </th>
                                        <th>
                                            Gems
                                        </th>
                                        <th>
                                            Vault
                                        </th>
                                        <th>
                                            Wildcards
                                        </th>
                                        <th>
                                            Games (W-L)
                                        </th>
                                        <th>
                                            Rank
                                        </th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr v-for="h in modelUserHistory" v-bind:class="[modelUserHistorySelected.date === h.date ? 'is-selected' : '']" v-on:click="refreshUserHistoryForDate(h.date)">
                                        <td>
                                            {{moment(h.date).format('YYYY-MM-DD')}}
                                        </td>
                                        <td>
                                            <span v-if="h.newCardsCount > 0">
                                                {{numeral(h.newCardsCount).format('+0,0')}}
                                            </span>
                                            <span v-else>&nbsp;</span>
                                        </td>
                                        <td>
                                            <span v-if="h.goldChange !== 0">
                                                {{numeral(h.goldChange).format('+0,0')}}
                                                <img class="wc" src="/images/inventory_gold.png" />
                                            </span>
                                            <span v-else>&nbsp;</span>
                                        </td>
                                        <td>
                                            <span v-if="h.gemsChange !== 0">
                                                {{numeral(h.gemsChange).format('+0,0')}}
                                                <img class="wc" src="/images/inventory_gem.png" />
                                            </span>
                                            <span v-else>&nbsp;</span>
                                        </td>
                                        <td>
                                            <span v-if="h.vaultProgressChange !== 0">
                                                {{numeral(h.vaultProgressChange).format('+0,0.0')}}%
                                                <img class="wc" src="/images/vault.png" />
                                            </span>
                                            <span v-else>&nbsp;</span>
                                        </td>
                                        <td>
                                            <span v-if="h.wildcardsChange.Common !== 0" class="tooltip is-tooltip-left" data-tooltip="Common wildcards">
                                                {{numeral(h.wildcardsChange.Common).format('+0,0')}}
                                                <img class="wc" src="/images/wcC.png" />
                                            </span>
                                            <span v-if="h.wildcardsChange.Uncommon !== 0" class="tooltip is-tooltip-left" data-tooltip="Uncommon wildcards">
                                                {{numeral(h.wildcardsChange.Uncommon).format('+0,0')}}
                                                <img class="wc" src="/images/wcU.png" />
                                            </span>
                                            <span v-if="h.wildcardsChange.Rare !== 0" class="tooltip is-tooltip-left" data-tooltip="Rare wildcards">
                                                {{numeral(h.wildcardsChange.Rare).format('+0,0')}}
                                                <img class="wc" src="/images/wcR.png" />
                                            </span>
                                            <span v-if="h.wildcardsChange.Mythic !== 0" class="tooltip is-tooltip-left" data-tooltip="Mythic wildcards">
                                                {{numeral(h.wildcardsChange.Mythic).format('+0,0')}}
                                                <img class="wc" src="/images/wcM.png" />
                                            </span>
                                        </td>
                                        <td>
                                            {{h.wins}}
                                            -
                                            {{h.losses}}
                                        </td>
                                        <td>
                                            <span v-if="h.constructedRank === 'N/A'">&nbsp;</span>
                                            <span v-else class="tooltip is-tooltip-left" v-bind:data-tooltip="'Constructed ' + h.constructedRank.split('_').slice(0,2).join(' ')">
                                                <img v-bind:src="'/images/ranks/constructed/' + h.constructedRank.split('_').slice(0,2).join('_') + '.png'" class="wc" />
                                            </span>
                                            <span v-if="h.limitedRank === 'N/A'">&nbsp;</span>
                                            <span v-else class="tooltip is-tooltip-left" v-bind:data-tooltip="'Limited ' + h.limitedRank.split('_').slice(0,2).join(' ')">
                                                <img v-bind:src="'/images/ranks/limited/' + h.limitedRank.split('_').slice(0,2).join('_') + '.png'" class="wc" />
                                            </span>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="column" v-if="modelUserHistory.length > 0">
                            <span v-if="isLoadingData('userHistoryForDate')" class="button is-loading"></span>
                            <template v-else>
                                <div class="columns">
                                    <div class="column">
                                        <button v-on:click="currentPageHistory = pageHistoryCards"
                                                class="button is-fullwidth is-rounded" v-bind:class="[currentPageHistory === pageHistoryCards ? 'is-info' : '']">
                                            Cards and inventory
                                        </button>
                                    </div>
                                    <div class="column">
                                        <button v-on:click="currentPageHistory = pageHistoryMatches"
                                                class="button is-fullwidth is-rounded" v-bind:class="[currentPageHistory === pageHistoryMatches ? 'is-info' : '']">
                                            Matches
                                        </button>
                                    </div>
                                </div>
                                <div v-if="typeof modelUserHistorySelected.date === 'undefined'">
                                    Select a date to view its details
                                </div>
                                <div v-else-if="currentPageHistory === pageHistoryCards">
                                    <div class="loot" style="text-align:right;">
                                        <!--<span class="tooltip is-tooltip-left" v-bind:data-tooltip="'Constructed Ranking: ' + modelUser.collection.constructedRank.class + ' ' + modelUser.collection.constructedRank.level">
                                            <img v-bind:src="'/images/ranks/constructed/' + modelUser.collection.constructedRank.class + '_' + modelUser.collection.constructedRank.level + '.png'" />
                                        </span>
                                        <span class="tooltip is-tooltip-left" v-bind:data-tooltip="'Limited Ranking: ' + modelUser.collection.limitedRank.class + ' ' + modelUser.collection.limitedRank.level">
                                            <img v-bind:src="'/images/ranks/limited/' + modelUser.collection.limitedRank.class + '_' + modelUser.collection.limitedRank.level + '.png'" />
                                        </span>-->
                                        <span class="tooltip is-tooltip-left" data-tooltip="Common wildcards">
                                            {{modelUserHistorySelected.info.wildcards.Common}}
                                            <img class="wc" src="/images/wcC.png" />
                                        </span>
                                        <span class="tooltip is-tooltip-left" data-tooltip="Uncommon wildcards">
                                            {{modelUserHistorySelected.info.wildcards.Uncommon}}
                                            <img class="wc" src="/images/wcU.png" />
                                        </span>
                                        <span class="tooltip is-tooltip-left" data-tooltip="Rare wildcards">
                                            {{modelUserHistorySelected.info.wildcards.Rare}}
                                            <img class="wc" src="/images/wcR.png" />
                                        </span>
                                        <span class="tooltip is-tooltip-left" data-tooltip="Mythic wildcards">
                                            {{modelUserHistorySelected.info.wildcards.Mythic}}
                                            <img class="wc" src="/images/wcM.png" />
                                        </span>
                                        <span class="tooltip is-tooltip-left" data-tooltip="Gold">
                                            {{numeral(modelUserHistorySelected.info.gold).format('0,0')}}
                                            <img class="wc" src="/images/inventory_gold.png" />
                                        </span>
                                        <span class="tooltip is-tooltip-left" data-tooltip="Gems">
                                            {{numeral(modelUserHistorySelected.info.gems).format('0,0')}}
                                            <img class="wc" src="/images/inventory_gem.png" />
                                        </span>
                                        <span class="tooltip is-tooltip-left" data-tooltip="Vault progress">
                                            {{numeral(modelUserHistorySelected.info.vaultProgress).format('0.0')}} %
                                            <img class="wc" src="/images/vault.png" />
                                        </span>
                                    </div>
                                    <h5 class="title is-5">
                                        {{numeral(modelUserHistorySelected.diff.newCards.reduce((a, b) => a += b.amount, 0)).format('0,0')}}
                                        new cards acquired
                                        on {{moment(modelUserHistorySelected.date).format('YYYY-MM-DD')}}
                                    </h5>
                                    <div v-if="modelUserHistorySelected.diff.newCards.length > 0" class="columns">
                                        <div v-for="r in modelUserHistorySelected.diff.newCards.groupBy('rarity').sort((a,b) => wildcardsOrder[a.key[0]] > wildcardsOrder[b.key[0]] ? 1 : -1)" class="column">
                                            <span class="tooltip bold" v-bind:data-tooltip="r.key">
                                                {{r.values.reduce((a, b) => a + b.amount, 0)}}
                                                <img class="wc " v-bind:src="'/images/wc' + r.key[0] + '.png'" width="18" height="18" />
                                            </span>
                                            <ul class="noBullet" style="margin:0;">
                                                <li v-for="c in r.values" class="cardHover"
                                                    v-on:mouseleave="showCard(null)" v-on:mouseover="showCard(c.imageCardUrl)">
                                                    {{c.amount}}x {{c.name}}
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                                <div v-else-if="currentPageHistory === pageHistoryMatches">
                                    <h5 class="title is-5" v-if="modelUserHistorySelected.info.matches.length === 0">
                                        No matches played on
                                        on {{moment(modelUserHistorySelected.date).format('YYYY-MM-DD')}}
                                    </h5>
                                    <template v-else>
                                        <h5 class="title is-5">
                                            {{modelUserHistorySelected.info.matches.length}} matches played
                                            on {{moment(modelUserHistorySelected.date).format('YYYY-MM-DD')}}
                                        </h5>
                                        <table class="table is-narrow is-hoverable">
                                            <thead>
                                                <tr>
                                                    <th>
                                                        #
                                                    </th>
                                                    <th>
                                                        Event
                                                    </th>
                                                    <th>
                                                        Deck used
                                                    </th>
                                                    <th>
                                                        VS
                                                    </th>
                                                    <th class="has-text-centered">
                                                        Outcome
                                                    </th>
                                                    <th class="has-text-centered">
                                                        Start
                                                    </th>
                                                    <th class="has-text-centered">
                                                        Length
                                                    </th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr v-for="(m, idx) in modelUserHistorySelected.info.matches" v-bind:class="[modelUserHistoryMatchSelected === m ? 'is-selected' : '']" v-on:click="modelUserHistoryMatchSelected = m">
                                                    <td>
                                                        {{idx+1}}
                                                    </td>
                                                    <td>
                                                        {{m.eventName}}
                                                    </td>
                                                    <td>
                                                        {{m.deckUsed.name}}
                                                        <br />
                                                        <img v-for="c in m.deckUsed.colors.split('')" v-bind:src="iconMana[c]" class="iconMana" />
                                                    </td>
                                                    <td>
                                                        {{m.opponentName}}
                                                        <span class="tooltip is-tooltip-left" v-bind:data-tooltip="m.opponentRank.replace('_', ' ')">
                                                            <img v-bind:src="'/images/ranks/constructed/' + m.opponentRank + '.png'" class="wc" />
                                                        </span>
                                                        <br />
                                                        <img v-for="c in m.opponentDeckColors.split('')" v-bind:src="iconMana[c]" class="iconMana" />
                                                    </td>
                                                    <td class="has-text-centered">
                                                        {{m.outcome}}
                                                    </td>
                                                    <td class="has-text-centered">
                                                        {{moment(m.startDateTime).format('HH:mm:ss')}}
                                                    </td>
                                                    <td class="has-text-centered">
                                                        {{moment.utc(m.secondsCount * 1000).format('HH:mm:ss')}}
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                        <div v-if="typeof modelUserHistoryMatchSelected.startDateTime === 'undefined'">
                                            Select a match to view its game details
                                        </div>
                                        <div v-else>
                                            <div v-for="(g, idx) in modelUserHistoryMatchSelected.games" class="box">
                                                <h5 class="title is-5">
                                                    {{moment(g.startDateTime).format('HH:mm:ss')}} - Game #{{idx+1}} -
                                                    On the {{g.firstTurn}} - {{g.outcome}} in {{moment.utc(g.secondsCount * 1000).format('HH:mm:ss')}}
                                                </h5>
                                                <div v-if="g.opponentCardsSeen.length === 0">
                                                    <h5 class="title is-5">No opponent cards seen</h5>
                                                </div>
                                                <template v-else>
                                                    <h5 class="title is-5">{{g.opponentCardsSeen.reduce((a, b) => a += b.amount, 0)}} cards seen from the opponent</h5>
                                                    <div class="columns is-multiline">
                                                        <div v-for="c in g.opponentCardsSeen" class="column has-text-centered" style="padding:0;">
                                                            {{c.amount}}x<br />
                                                            <span v-on:mouseleave="showCard(null)" v-on:mouseover="showCard(c.imageCardUrl)" class="cardHover">
                                                                <img v-bind:src="scryfallImagesPrefix + c.imageCardUrl" style="width:8rem;" />
                                                            </span>
                                                        </div>
                                                    </div>
                                                </template>
                                                <hr />
                                                <div>
                                                    <h5 class="title is-5">Starting hand</h5>
                                                    You mulliganed {{g.mulliganCount}} times
                                                    <div v-for="hand in g.startingHands">
                                                        <!--<div class="columns is-multiline">
                                                            <div v-for="c in hand" class="column">
                                                                <span v-on:mouseleave="showCard(null)" v-on:mouseover="showCard(c.imageCardUrl)" class="cardHover">
                                                                    <img v-bind:src="scryfallImagesPrefix + c.imageCardUrl" style="height:8rem;" />
                                                                </span>
                                                            </div>
                                                        </div>-->
                                                        <span v-for="c in hand" v-on:mouseleave="showCard(null)" v-on:mouseover="showCard(c.imageCardUrl)" class="cardHover">
                                                            <img v-bind:src="scryfallImagesPrefix + c.imageCardUrl" style="height:8rem;" />
                                                        </span>
                                                    </div>
                                                    Opponent mulliganed {{g.mulliganCountOpponent}} times
                                                </div>
                                                <hr />
                                                <div>
                                                    <h5 class="title is-5">By turn</h5>

                                                    <div class="columns is-multiline" style="margin-top:1rem;">
                                                        <div class="column is-half" v-for="t in g.cardTransfers.groupBy('turn')">
                                                            <div class="box">
                                                                <h6 class="title is-6" style="margin-bottom:0.2rem;">Turn {{t.key}}</h6>
                                                                <div v-for="cardTurn in t.values">
                                                                    {{cardTurn.player == 1 ? 'You' : 'Opponent'}} {{cardTurn.action.toLowerCase()}}
                                                                    <span v-on:mouseleave="showCard(null)" v-on:mouseover="showCard(cardTurn.card.imageCardUrl)" class="cardHover" style="list-style-type: none;">
                                                                        {{cardTurn.card.name}}
                                                                    </span>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </template>
                                </div>
                            </template>
                        </div>
                    </div>
                </div>
                <div v-else-if="currentPage === pageDecksTracked">
                    <h4 class="title is-4">
                        Browse your tracked decks in relation to your collection
                    </h4>
                    <div v-if="isNotificationActive('tipDecksOrder')" class="notification" style="margin-top:1em;">
                        <button class="delete" v-on:click="stopNotification('tipDecksOrder')"></button>
                        <p>
                            <span class="icon has-text-info"><i class="fas fa-info-circle"></i></span>
                            Decks are presented in ascending order of their missing cards weight (wildcards needed for you to complete them).
                        </p>
                    </div>
                    <div class="columns">
                        <div class="column">
                            <div style="margin-bottom:1rem;">
                                <h6 class="title is-6" style="line-height:inherit;">
                                    {{modelUserDecks.decks.filter((i) => i.priorityFactor > 0).length}} decks tracked / {{modelUserDecks.totalDecks}} total
                                    <button class="button is-small is-warning" v-on:click="resetDecksPriorityFactor(1)" v-bind:class="getClassIsLoadingData(pageDecksTracked)" :disabled="isLoadingData(pageDecksTracked)">Track all</button>
                                    <button class="button is-small is-warning" v-on:click="resetDecksPriorityFactor(0)" v-bind:class="getClassIsLoadingData(pageDecksTracked)" :disabled="isLoadingData(pageDecksTracked)">Untrack all</button>
                                    <button class="button is-small is-info" v-bind:class="getClassIsLoadingData(pageDecksTracked)" :disabled="isLoadingData(pageDecksTracked)" v-on:click="function() { refreshDecksTracked();refreshDashboard(); }">
                                        Refresh
                                    </button>
                                </h6>
                            </div>
                            <table class="table is-narrow">
                                <thead>
                                    <tr>
                                        <th colspan="5">Filters <span class="smallText gray">(Press Enter)</span></th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>
                                            <div class="field">
                                                <div class="control">
                                                    <label class="label is-small">Name</label>
                                                    <input class="input is-small" type="text" v-model="modelUserDecks.filters.name" v-on:change="filterDecks();" size="12" placeholder="e.g. Rainbow" />
                                                </div>
                                            </div>
                                        </td>
                                        <td>
                                            <div class="field">
                                                <div class="control">
                                                    <label class="label is-small">
                                                        Source
                                                        <span class="icon has-text-info tooltip" style="height:inherit; cursor:pointer;"
                                                              data-tooltip="Go configure sources of decks" v-on:click="loadPage(pageScrapers)">
                                                            <i class="fas fa-info-circle"></i>
                                                        </span>
                                                    </label>
                                                    <select class="input is-small" v-model="modelUserDecks.filters.scraperTypeId" v-on:change="filterDecks();">
                                                        <option v-for="source in ['(All)'].concat(modelUserDecks.decks.map((i) => i.scraperTypeId).filter((value, index, self) => self.indexOf(value) === index).sort())"
                                                                v-bind:value="source">
                                                            {{ formatScraperKey(source, true) }}
                                                        </option>
                                                    </select>
                                                </div>
                                            </div>
                                        </td>
                                        <td>
                                            <div class="field">
                                                <div class="control">
                                                    <label class="label is-small">Color</label>
                                                    <input class="input is-small" type="text" v-model="modelUserDecks.filters.color" v-on:change="filterDecks();" size="12" placeholder="e.g. WUBRG" />
                                                </div>
                                            </div>
                                        </td>
                                        <td>
                                            <div class="field">
                                                <div class="control">
                                                    <label class="label is-small">
                                                        Date
                                                        <span class="icon has-text-info tooltip is-tooltip-multiline" style="height:inherit;"
                                                              data-tooltip="You can type an exact date or specify a range (by using &gt; before your date)">
                                                            <i class="fas fa-info-circle"></i>
                                                        </span>
                                                    </label>
                                                    <input class="input is-small" type="text" v-model="modelUserDecks.filters.date" v-on:change="filterDecks();" size="14"
                                                           placeholder="e.g. &gt;2019-01-21" />
                                                </div>
                                            </div>
                                        </td>
                                        <td>
                                            <div class="field">
                                                <div class="control">
                                                    <label class="label is-small">Card</label>
                                                    <input class="input is-small" type="text" v-model="modelUserDecks.filters.card" v-on:change="filterDecks();" size="12" placeholder="e.g. gate colo" />
                                                </div>
                                            </div>
                                        </td>
                                        <td>
                                            <div class="field">
                                                <div class="control">
                                                    <label class="label is-small">
                                                        Weight
                                                        <span class="icon has-text-info tooltip" style="height:inherit;"
                                                              data-tooltip="Use &lt; and &gt; along with a Missing cards weight value">
                                                            <i class="fas fa-info-circle"></i>
                                                        </span>
                                                    </label>
                                                    <input class="input is-small" type="text" v-model="modelUserDecks.filters.missingWeight" v-on:change="filterDecks();" size="12"
                                                           placeholder="e.g. &lt; 200" />
                                                </div>
                                            </div>
                                        </td>
                                        <td style="vertical-align:bottom;">
                                            <div class="field">
                                                <input type="checkbox" id="switchFilterDecksShowUntracked" name="switchFilterDecksShowUntracked" class="switch" v-model="modelUserDecks.filters.showUntracked" v-on:change="filterDecks()">
                                                <label for="switchFilterDecksShowUntracked">
                                                    <span class="tooltip" v-bind:data-tooltip="modelUserDecks.filters.showUntracked ? 'Tracked and untracked decks are shown' : 'Only Tracked decks are shown'">
                                                        {{modelUserDecks.filters.showUntracked ? 'All' : 'Tracked'}}
                                                    </span>
                                                </label>
                                            </div>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                            <div>
                                Showing {{paginatedDecksTracked.length}} of {{modelUserDecksFiltered.decks.length}} deck<span v-if="modelUserDecksFiltered.decks.length != 1">s</span> filtered

                                <button class="button is-small is-warning tooltip" v-on:click="trackFilteredDecks(true)" data-tooltip="Add the filtered decks to your list of tracked decks"
                                        v-bind:class="getClassIsLoadingData(pageDecksTracked)" :disabled="isLoadingData(pageDecksTracked)">
                                    Track these {{modelUserDecksFiltered.decks.length}} decks
                                </button>
                                <button class="button is-small is-warning tooltip" v-on:click="trackFilteredDecks(null)" data-tooltip="Make the filtered decks your list of tracked decks"
                                        v-bind:class="getClassIsLoadingData(pageDecksTracked)" :disabled="isLoadingData(pageDecksTracked)">
                                    Track *ONLY* these {{modelUserDecksFiltered.decks.length}} decks
                                </button>
                                <button class="button is-small is-warning tooltip" v-on:click="trackFilteredDecks(false)" data-tooltip="Remove the filtered decks from your list of tracked decks"
                                        v-bind:class="getClassIsLoadingData(pageDecksTracked)" :disabled="isLoadingData(pageDecksTracked)">
                                    Untrack these {{modelUserDecksFiltered.decks.length}} decks
                                </button>
                                <button v-if="decksAreFiltered()" v-on:click="clearFiltersDecks(true);" :disabled="isLoadingData(pageDecksTracked)" class="button is-danger is-small tooltip" data-tooltip="Reset the filters to show your tracked decks">
                                    Clear filters
                                </button>
                                <nav v-if="getDecksPages().length > 1" class="pagination" role="navigation" aria-label="pagination">
                                    <ul class="pagination-list">
                                        <li v-for="pageNumber in getDecksPages()" style="list-style-type: none;">
                                            <span v-if="pageNumber === '...'" class="pagination-ellipsis">&hellip;</span>
                                            <a v-else class="pagination-link" v-bind:class="[ modelUserDecksFiltered.currentPage === pageNumber ? 'is-current' : '']"
                                               v-on:click="modelUserDecksFiltered.currentPage = pageNumber">{{ pageNumber + 1 }}</a>
                                        </li>
                                    </ul>
                                </nav>
                            </div>
                            <span v-if="isLoadingData(pageDecksTracked)" class="button is-loading"></span>
                            <div v-else-if="getScrapersFlattened().length === 0">
                                <span class="button is-loading"></span>
                                <span class="is-size-5">
                                    (...Initializing...Please refresh in 1 minute...)
                                </span>
                            </div>
                            <div v-else class="wrapper-tablescroll">
                                <table class="table is-narrow is-hoverable">
                                    <thead>
                                        <tr>
                                            <th>
                                                Priority factor
                                                <br />
                                                <span class="icon has-text-info tooltip is-tooltip-multiline is-tooltip-right"
                                                      data-tooltip="Set to 0 to stop tracking a deck. This factor is applied to the missing cards weight of the deck, if you consider some decks more important than others.">
                                                    <i class="fas fa-info-circle"></i>
                                                </span>
                                            </th>
                                            <th>Name and source</th>
                                            <th>Color</th>
                                            <th>Date</th>
                                            <th>Missing wildcards</th>
                                            <th>Missing cards<br />weight</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr v-for="iDeck in paginatedDecksTracked" v-on:click="getDeckTracked(iDeck.id)" v-bind:class="[iDeck.id === modelUserDeckSelected.id ? 'is-selected' : '']">
                                            <td class="textCenter">
                                                <input type="text" v-model="iDeck.priorityFactor" size="1" v-on:change.stop="setDeckPriorityFactor(iDeck.id, iDeck.priorityFactor)" />
                                                <span v-if="iDeck.priorityFactor > 0" class="tooltip is-tooltip-right" data-tooltip="Stop tracking this deck">
                                                    <span class="delete is-small" v-on:click.stop="stopTracking(iDeck.id)" style="margin-top:4px;"></span>
                                                </span>
                                                <div>
                                                    <a :disabled="iDeck.priorityFactor <= 0" style="width:auto;" class="icon has-text-info" v-on:click.stop="setDeckPriorityFactor(iDeck.id, parseFloat(iDeck.priorityFactor) - 1)">
                                                        <i class="far fa-caret-square-down"></i>
                                                    </a>
                                                    <a style="width:auto;" class="icon has-text-info" v-on:click.stop="setDeckPriorityFactor(iDeck.id, parseFloat(iDeck.priorityFactor) + 1)">
                                                        <i class="far fa-caret-square-up"></i>
                                                    </a>
                                                </div>
                                            </td>
                                            <td>
                                                {{iDeck.name}}
                                                <div class="is-small">
                                                    {{formatScraperKey(iDeck.scraperTypeId, true)}}
                                                </div>
                                            </td>
                                            <td>
                                                <img v-for="c in iDeck.color.split('')" v-bind:src="iconMana[c]" class="iconMana" />
                                            </td>
                                            <td class="nowrap">{{moment(iDeck.dateCreated).format('YYYY-MM-DD')}}</td>
                                            <td>
                                                <table>
                                                    <tbody>
                                                        <tr class="nohover">
                                                            <td class="tooltip" data-tooltip="Main">M:</td>
                                                            <td class="nowrap">
                                                                {{iDeck.wildcardsMissingMain.Mythic}}
                                                                <span class="tooltip" data-tooltip="Mythic">
                                                                    <img class="wc" src="/images/wcM.png" />
                                                                </span>
                                                            </td>
                                                            <td class="nowrap">
                                                                {{iDeck.wildcardsMissingMain.Rare}}
                                                                <span class="tooltip" data-tooltip="Rare">
                                                                    <img class="wc" src="/images/wcR.png" />
                                                                </span>
                                                            </td>
                                                            <td class="nowrap">
                                                                {{iDeck.wildcardsMissingMain.Uncommon}}
                                                                <span class="tooltip" data-tooltip="Uncommon">
                                                                    <img class="wc" src="/images/wcU.png" />
                                                                </span>
                                                            </td>
                                                            <td class="nowrap">
                                                                {{iDeck.wildcardsMissingMain.Common}}
                                                                <span class="tooltip" data-tooltip="Common">
                                                                    <img class="wc" src="/images/wcC.png" />
                                                                </span>
                                                            </td>
                                                        </tr>
                                                        <tr class="nohover">
                                                            <td class="tooltip" data-tooltip="Sideboard">S:</td>
                                                            <td class="nowrap">
                                                                {{iDeck.wildcardsMissingSideboard.Mythic}}
                                                                <span class="tooltip" data-tooltip="Mythic">
                                                                    <img class="wc" src="/images/wcM.png" />
                                                                </span>
                                                            </td>
                                                            <td class="nowrap">
                                                                {{iDeck.wildcardsMissingSideboard.Rare}}
                                                                <span class="tooltip" data-tooltip="Rare">
                                                                    <img class="wc" src="/images/wcR.png" />
                                                                </span>
                                                            </td>
                                                            <td class="nowrap">
                                                                {{iDeck.wildcardsMissingSideboard.Uncommon}}
                                                                <span class="tooltip" data-tooltip="Uncommon">
                                                                    <img class="wc" src="/images/wcU.png" />
                                                                </span>
                                                            </td>
                                                            <td class="nowrap">
                                                                {{iDeck.wildcardsMissingSideboard.Common}}
                                                                <span class="tooltip" data-tooltip="Common">
                                                                    <img class="wc" src="/images/wcC.png" />
                                                                </span>
                                                            </td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </td>
                                            <td class="has-text-right">
                                                {{numeral(iDeck.missingWeight).format('0,0')}}
                                                <span v-if="iDeck.priorityFactor === 0">
                                                    (untracked)
                                                </span>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            <nav v-if="getDecksPages().length > 1" class="pagination" role="navigation" aria-label="pagination">
                                <ul class="pagination-list">
                                    <li v-for="pageNumber in getDecksPages()" style="list-style-type: none;">
                                        <span v-if="pageNumber === '...'" class="pagination-ellipsis">&hellip;</span>
                                        <a v-else class="pagination-link" v-bind:class="[ modelUserDecksFiltered.currentPage === pageNumber ? 'is-current' : '']"
                                           v-on:click="modelUserDecksFiltered.currentPage = pageNumber" v-bind:aria-label="'Go to page ' + pageNumber">{{ pageNumber + 1 }}</a>
                                    </li>
                                </ul>
                            </nav>
                        </div>
                        <div class="column is-half">
                            <span v-if="modelUserDeckSelected.id === ''">
                                Select a deck to see its details
                            </span>
                            <span v-else-if="isLoadingData(loadDeckTracked)" class="button is-loading"></span>
                            <div v-else>
                                <h4 class="title is-4">
                                    <template v-if="modelUserDeckSelected.scraperTypeId.startsWith('usercustomdeck-')">
                                        {{modelUserDeckSelected.name}}
                                        ({{formatScraperKey(modelUserDeckSelected.scraperTypeId, true)}})
                                    </template>
                                    <template v-else>
                                        <a v-bind:href="modelUserDeckSelected.url" target="_blank">
                                            {{modelUserDeckSelected.name}}
                                        </a>
                                        from
                                        <a v-bind:href="dictScraperUrl[modelUserDeckSelected.scraperTypeId]" target="_blank">
                                            {{formatScraperKey(modelUserDeckSelected.scraperTypeId, true)}}
                                        </a>
                                        <span v-on:click="deckToShare = modelUserDeckSelected; showModalShareDeck = true; $nextTick(() => txtShareDeck.select());" style="cursor:pointer;" class="tooltip" data-tooltip="Share this deck">
                                            <i class="fas fa-share-alt"></i>
                                        </span>
                                    </template>
                                </h4>
                                <div class="columns">
                                    <div class="column is-one-half">
                                        <h5 class="title is-5" style="margin-bottom:0.5rem;">
                                            {{displayTotalCards(this.modelUserDeckSelected.cardsMain, false)}}
                                        </h5>
                                        <div v-if="isNotificationActive('tipDualLands')" class="notification" style="margin-top:1em;">
                                            <button class="delete" v-on:click="stopNotification('tipDualLands')"></button>
                                            <span class="icon has-text-info"><i class="fas fa-info-circle"></i></span>
                                            <span>
                                                You can easily replace the rare dual lands with common dual lands if you don't want to craft them yet.
                                            </span>
                                        </div>
                                        <table class="table is-narrow">
                                            <tr v-for="c in modelUserDeckSelected.cardsMain">
                                                <td class="nowrap">
                                                    <span v-if="c.nbMissing > 0">
                                                        {{c.nbMissing}}
                                                        <span v-if="c.rarity === 'Mythic'" class="tooltip" data-tooltip="Mythic">
                                                            <img class="wc" src="/images/wcM.png" />
                                                        </span>
                                                        <span v-else-if="c.rarity === 'Rare'" class="tooltip" data-tooltip="Rare">
                                                            <img class="wc" src="/images/wcR.png" />
                                                        </span>
                                                        <span v-else-if="c.rarity === 'Uncommon'" class="tooltip" data-tooltip="Uncommon">
                                                            <img class="wc" src="/images/wcU.png" />
                                                        </span>
                                                        <span v-else-if="c.rarity === 'Common'" class="tooltip" data-tooltip="Common">
                                                            <img class="wc" src="/images/wcC.png" />
                                                        </span>
                                                    </span>
                                                    <span v-else>&nbsp;</span>
                                                </td>
                                                <td>
                                                    <span v-on:mouseleave="showCard(null)"
                                                          v-on:mouseover="showCard(c.imageCardUrl)" class="cardHover">
                                                        {{c.amount}}x {{c.name}}
                                                    </span>
                                                </td>
                                                <td>{{c.type}}</td>
                                            </tr>
                                        </table>
                                        <h5 class="title is-5" style="margin-bottom:0.5rem;">
                                            {{displayTotalCards(this.modelUserDeckSelected.cardsSideboard, true)}}
                                        </h5>
                                        <table class="table is-narrow" v-if="modelUserDeckSelected.cardsSideboard.length > 0">
                                            <tr v-for="c in modelUserDeckSelected.cardsSideboard">
                                                <td class="nowrap">
                                                    <span v-if="c.nbMissing > 0">
                                                        {{c.nbMissing}}
                                                        <span v-if="c.rarity === 'Mythic'" class="tooltip" data-tooltip="Mythic">
                                                            <img class="wc" src="/images/wcM.png" />
                                                        </span>
                                                        <span v-else-if="c.rarity === 'Rare'" class="tooltip" data-tooltip="Rare">
                                                            <img class="wc" src="/images/wcR.png" />
                                                        </span>
                                                        <span v-else-if="c.rarity === 'Uncommon'" class="tooltip" data-tooltip="Uncommon">
                                                            <img class="wc" src="/images/wcU.png" />
                                                        </span>
                                                        <span v-else-if="c.rarity === 'Common'" class="tooltip" data-tooltip="Common">
                                                            <img class="wc" src="/images/wcC.png" />
                                                        </span>
                                                    </span>
                                                    <span v-else>&nbsp;</span>
                                                </td>
                                                <td>
                                                    <span v-on:mouseleave="showCard(null)"
                                                          v-on:mouseover="showCard(c.imageCardUrl)" class="cardHover">
                                                        {{c.amount}}x {{c.name}}
                                                    </span>
                                                </td>
                                                <td>{{c.type}}</td>
                                            </tr>
                                        </table>
                                    </div>
                                    <div class="column is-one-half">
                                        <h5 class="title is-5" style="margin-bottom:0.5rem;">Missing cards summary</h5>
                                        <table class="table is-narrow" style="margin-bottom:0; width:14rem;">
                                            <tbody>
                                                <tr class="nohover">
                                                    <td class="nowrap">
                                                        {{modelUserDeckSelected.cardsMain.filter(i => i.rarity === 'Mythic').reduce(function(i, j) { return j.nbMissing + i; }, 0) + modelUserDeckSelected.cardsSideboard.filter(i => i.rarity === 'Mythic').reduce(function(i, j) { return j.nbMissing + i; }, 0)}}
                                                        <span class="tooltip" data-tooltip="Mythic">
                                                            <img class="wc" src="/images/wcM.png" />
                                                        </span>
                                                    </td>
                                                    <td class="nowrap">
                                                        {{modelUserDeckSelected.cardsMain.filter(i => i.rarity === 'Rare').reduce(function(i, j) { return j.nbMissing + i; }, 0) + modelUserDeckSelected.cardsSideboard.filter(i => i.rarity === 'Rare').reduce(function(i, j) { return j.nbMissing + i; }, 0)}}
                                                        <span class="tooltip" data-tooltip="Rare">
                                                            <img class="wc" src="/images/wcR.png" />
                                                        </span>
                                                    </td>
                                                    <td class="nowrap">
                                                        {{modelUserDeckSelected.cardsMain.filter(i => i.rarity === 'Uncommon').reduce(function(i, j) { return j.nbMissing + i; }, 0) + modelUserDeckSelected.cardsSideboard.filter(i => i.rarity === 'Uncommon').reduce(function(i, j) { return j.nbMissing + i; }, 0)}}
                                                        <span class="tooltip" data-tooltip="Uncommon">
                                                            <img class="wc" src="/images/wcU.png" />
                                                        </span>
                                                    </td>
                                                    <td class="nowrap">
                                                        {{modelUserDeckSelected.cardsMain.filter(i => i.rarity === 'Common').reduce(function(i, j) { return j.nbMissing + i; }, 0) + modelUserDeckSelected.cardsSideboard.filter(i => i.rarity === 'Common').reduce(function(i, j) { return j.nbMissing + i; }, 0)}}
                                                        <span class="tooltip" data-tooltip="Common">
                                                            <img class="wc" src="/images/wcC.png" />
                                                        </span>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                        <table v-if="modelUserDeckSelected.compareResults.length > 0" class="table is-narrow" style="width:14rem;">
                                            <thead>
                                                <tr>
                                                    <th>Set</th>
                                                    <th>Count</th>
                                                    <th>Weight</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr v-for="c in modelUserDeckSelected.compareResults">
                                                    <td>{{c.set}}</td>
                                                    <td class="has-text-right">{{c.nbMissing}}</td>
                                                    <td class="has-text-right">{{numeral(c.missingWeightTotal).format('0,0.0')}}</td>
                                                </tr>
                                            </tbody>
                                        </table>
                                        <h5 class="title is-5" style="margin-bottom:0.5rem;">
                                            Export to Arena
                                        </h5>
                                        <div v-if="isNotificationActive('tipBo1')" class="notification">
                                            <button class="delete" v-on:click="stopNotification('tipBo1')"></button>
                                            <span class="icon has-text-info"><i class="fas fa-info-circle"></i></span>
                                            You can select only the first part if you prefer Bo1
                                        </div>
                                        <textarea cols="50" rows="40">{{modelUserDeckSelected.mtgaImportFormat}}</textarea>
                                        <p>
                                            <span class="icon has-text-info"><i class="fas fa-info-circle"></i></span>
                                            <strong>No more wildcards wasted!</strong>
                                            <br />
                                            Only your collection cards are considered above
                                            (e.g. so you don't craft those Opts unwillingly)
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div v-else-if="currentPage === pageDashboardSummary">
                    <template v-if="modelDashboard.summary.length > 0">
                        <h4 class="title is-4">
                            Consider opening
                            <span style="font-weight:bold;">{{formatSetToFullName(modelDashboard.summary[0].key)}}</span>
                            packs
                        </h4>
                        <h5 class="subtitle is-5">
                            You are currently requiring {{modelDashboard.summary[0].value.reduce((a, b) => a += b.nbMissing, 0)}} cards from this set,
                            worth a total weight of {{numeral(modelDashboard.summary[0].value.reduce((a, b) => a += b.missingWeight, 0)).format('0,0')}}
                            <span class="icon has-text-info tooltip" style="cursor:pointer;" data-tooltip="Weight?" v-on:click="currentPage=pageProfile"><i class="fas fa-info-circle"></i></span>
                        </h5>
                    </template>
                    <h4 v-else class="title is-4">
                        You must track decks first
                    </h4>
                    <div class="notification">
                        Based on missing cards that are a part of the {{modelUserDecks.decks.filter((i) => i.priorityFactor > 0).length}} decks currently tracked.

                        <div v-if="isNotificationActive('tipDashboardSummaryClick')" class="notification" style="padding-left:0; padding-bottom:0;">
                            <button class="delete" v-on:click="stopNotification('tipDashboardSummaryClick')"></button>
                            <p>
                                <span class="icon has-text-info"><i class="fas fa-info-circle"></i></span>
                                Click on any icon to get to the corresponding filtered view on the Missing cards Details page
                            </p>
                        </div>
                    </div>
                    <span v-if="isLoadingData('dashboard')" class="button is-loading"></span>
                    <div v-else-if="modelDashboard.summary.length === 0" style="margin-bottom:1.5rem;">No data available</div>
                    <div v-else class="columns">
                        <div class="column" v-for="(set, idx) in modelDashboard.summary.filter(i => modelSets.map(x => x.name).indexOf(i.key) >= 0)">
                            <div class="box has-text-centered darkTable packInfo" v-bind:style="'padding-left:1rem; padding-right:1rem; background: url(/images/set-' + set.key + '-pack.png); background-repeat:no-repeat; background-size:cover;'">
                                <img v-bind:src="'/images/set-' + set.key + '.png'" v-on:click="openDashboardDetails(set.key, '')" style="cursor:pointer;" />
                                <table class="table is-narrow darkTable" style="margin:0 auto;">
                                    <tbody>
                                        <tr v-for="c in set.value">
                                            <td class="tooltip" v-bind:class="idx === 0 ? ' is-tooltip-right' : idx === modelDashboard.summary.filter(i => modelSets.map(x => x.name).indexOf(i.key) >= 0).length - 1 ? 'is-tooltip-left' : ''" style="cursor:pointer" v-on:click="openDashboardDetails(set.key, c.rarity)"
                                                v-bind:data-tooltip="'Missing ' + c.nbMissing + ' ' + (c.rarity === 'RareLand' ? ' Rare (Land)' : c.rarity === 'RareNonLand' ? ' Rare (Non-land)' : c.rarity) + ' weighting ' + numeral(c.missingWeight).format('0,0')">
                                                {{c.nbMissing}}
                                                <img v-if="c.rarity === 'RareLand'" class="wc" style="filter: invert(100%);" v-bind:src="iconLand" />
                                                <img v-bind:src="'/images/' + set.key + '-' + c.rarity.substring(0,1) + '.png'" class="wc" />
                                            </td>
                                            <td class="has-text-right is-hidden-touch is-hidden-desktop-only">
                                                {{numeral(c.missingWeight).format('0,0')}}
                                            </td>
                                        </tr>
                                    </tbody>
                                    <tfoot>
                                        <tr>
                                            <th class="tooltip" v-bind:class="idx === 0 ? ' is-tooltip-right' : idx === modelDashboard.summary.filter(i => modelSets.map(x => x.name).indexOf(i.key) >= 0).length - 1 ? 'is-tooltip-left' : ''" v-bind:data-tooltip="'Missing ' + set.value.reduce((a, b) => a + b.nbMissing, 0) + '  cards weighting a total of ' + numeral(set.value.reduce((a, b) => a += b.missingWeight, 0)).format('0,0')">{{set.value.reduce((a, b) => a += b.nbMissing, 0)}}</th>
                                            <th class="is-hidden-touch has-text-right is-hidden-desktop-only">
                                                {{numeral(set.value.reduce((a, b) => a += b.missingWeight, 0)).format('0,0')}}
                                            </th>
                                        </tr>
                                    </tfoot>
                                </table>
                            </div>
                        </div>
                    </div>
                    <div class="notification">
                        <span class="icon has-text-info"><i class="fas fa-info-circle"></i></span>
                        Keep in mind that Ixalan, Rivals of Ixalan, Dominaria and M19 will rotate and can no longer be played in Standard in Fall 2019.

                        Guilds of Ravnica, Ravnica Allegiance, War of the Spark and M20 will be legal in Standard until Fall 2020.
                    </div>
                </div>
                <div v-else-if="currentPage === pageDashboardDetails">
                    <h4 v-if="modelDashboard.summary.length === 0" class="title is-4">
                        You must track decks first
                    </h4>
                    <template v-else>
                        <h4 class="title is-4">
                            Consider crafting these cards, according to their weight value
                            <span class="icon has-text-info tooltip" style="cursor:pointer;" data-tooltip="Weight?"
                                  v-on:click="currentPage=pageProfile">
                                <i class="fas fa-info-circle"></i>
                            </span>
                        </h4>
                        <div class="notification">
                            Based on missing cards that are a part of the {{modelUserDecks.decks.filter((i) => i.priorityFactor > 0).length}} decks currently tracked.
                        </div>
                        <table class="table is-narrow" style="width:unset;">
                            <thead>
                                <tr>
                                    <th colspan="2">Filters</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>
                                        <label>Set</label>
                                        <select v-model="modelDashboard.detailsFilters.set" v-on:change="filterDashboardDetails();">
                                            <option v-for="set in modelDashboard.detailsFilters.sets" v-bind:value="set">
                                                {{ set == '' ? '(All)' : set }}
                                            </option>
                                        </select>
                                    </td>
                                    <td>
                                        <label>Rarity</label>
                                        <select v-model="modelDashboard.detailsFilters.rarity" v-on:change="filterDashboardDetails();">
                                            <option v-for="r in modelDashboard.detailsFilters.rarities" v-bind:value="r">
                                                {{ r == '' ? '(All)' : r.startsWith('Rare') ? (r.indexOf('NonLand') >= 0 ? 'Rare (Non-land)' : 'Rare (Land)' ) : r }}
                                            </option>
                                        </select>
                                    </td>
                                    <td>
                                        <button v-if="dashboardDetailsAreFiltered()" v-on:click="clearFiltersDashboardDetails();" class="button is-danger is-small">
                                            Clear filters
                                        </button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                        <div class="columns">
                            <div class="column">
                                <span v-if="isLoadingData('dashboard')" class="button is-loading"></span>
                                <div v-else class="wrapper-tablescroll">
                                    <table class="table is-narrow is-bordered is-striped is-hoverable">
                                        <thead>
                                            <tr>
                                                <th class="has-text-centered">Weight</th>
                                                <th class="has-text-centered">Owned</th>
                                                <th class="has-text-centered">
                                                    Missing
                                                    <span class="icon has-text-info tooltip is-tooltip-multiline is-tooltip-bottom" style="cursor:pointer;"
                                                          data-tooltip="Difference between your number of owned copies and the maximum number of copies of any tracked deck">
                                                        <i class="fas fa-info-circle"></i>
                                                    </span>
                                                </th>
                                                <th class="has-text-centered">Number of decks<br />using this card</th>
                                                <th class="has-text-centered">Avg per deck</th>
                                                <th class="has-text-centered">Card</th>
                                                <th class="has-text-centered">Set</th>
                                                <th class="has-text-centered">Rarity</th>
                                                <th class="has-text-centered">Type</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr v-for="c in modelDashboard.detailsFiltered" v-on:click="getDecksForCard(c.cardName)" v-bind:class="[c.cardName === modelDetailsCardSelected.card ? 'is-selected' : '']">
                                                <td class="has-text-right">{{numeral(c.missingWeight).format('0,0')}}</td>
                                                <td class="has-text-right">{{c.nbOwned}}</td>
                                                <td class="has-text-right"><strong>{{c.nbMissing}}</strong></td>
                                                <td class="has-text-right">{{c.nbDecks}}</td>
                                                <td class="has-text-right">{{c.nbAvgPerDeck}}</td>
                                                <td>
                                                    <span v-on:mouseleave="showCard(null)"
                                                          v-on:mouseover="showCard(c.imageCardUrl)" class="cardHover">
                                                        {{c.cardName}}
                                                    </span>
                                                </td>
                                                <td>
                                                    {{c.set}}
                                                    <span v-if="c.craftedOnly" class="tooltip" data-tooltip="This card is obtainable only by crafting it">
                                                        <i class="fas fa-exclamation-triangle"></i>
                                                    </span>
                                                </td>
                                                <td>{{c.rarity.startsWith('Rare') ? 'Rare' : c.rarity}}</td>
                                                <td>{{c.type}}</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            <div class="column is-one-quarter">
                                <span v-if="modelDetailsCardSelected.card === ''">
                                    Select a card to see in which decks it is used
                                </span>
                                <div v-else>
                                    <h6 class="title is-6">
                                        {{modelDetailsCardSelected.card}} found in:
                                    </h6>
                                    <span v-if="isLoadingData('dashboardDetailsCardUsedIn')" class="button is-loading"></span>
                                    <div v-else-if="modelDetailsCardSelected.decks.length === 0">
                                        (None)
                                    </div>
                                    <table v-else class="table is-bordered is-striped is-narrow is-hoverable">
                                        <thead>
                                            <tr>
                                                <th>Deck</th>
                                                <th class="tooltip" data-tooltip="Main">M</th>
                                                <th class="tooltip" data-tooltip="Sideboard">S</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr v-for="d in modelDetailsCardSelected.decks" v-on:click="goToDeck(d.deckId, d.deckName)">
                                                <td>{{d.deckName}}</td>
                                                <td>{{d.nbMain}}x</td>
                                                <td>{{d.nbSideboard == 0 ? '&nbsp;' : d.nbSideboard + 'x'}}</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </template>
                </div>
                <div v-else-if="currentPage === pageScrapers">
                    <h4 class="title is-4">Manage which live sources you want to follow &mdash; These decks are refreshed automatically</h4>
                    <div v-if="getScrapersFlattened().length === 0">
                        <span class="button is-loading"></span>
                        <span class="is-size-5">
                            (...Initializing...Please refresh in 1 minute...)
                        </span>
                    </div>
                    <div v-else class="columns">
                        <div class="column" v-for="scraperType in modelUser.scrapers">
                            <div>
                                <h5 class="title is-5">{{formatScraperType(scraperType.type)}}</h5>
                                <div style="margin-top:1.5rem;">
                                    <span v-if="isLoadingData('userScrapersGet')" class="button is-loading"></span>
                                    <div v-else-if="scraperType.bySection.length === 0 && scraperType.byUser.length === 0">
                                        (None)
                                    </div>
                                    <div v-else>
                                        <table v-if="scraperType.bySection.length > 0" class="table is-narrow" style="background-color:unset;">
                                            <tbody>
                                                <tr v-for="s in scraperType.bySection">
                                                    <td v-bind:class="[ s.isActivated? 'has-text-weight-bold' : '']">
                                                        <a v-bind:href="s.url" target="_blank">{{formatScraperKey(s.id, false)}}</a>
                                                    </td>
                                                    <td>
                                                        <div class="field">
                                                            <input type="checkbox" v-bind:id="'scraper' + s.id.replace('-', '')" v-bind:name="'scraper' + s.id.replace('-', '')" class="switch"
                                                                   v-model="s.isActivated" v-on:change="saveUserScrapers()">
                                                            <label v-bind:for="'scraper' + s.id.replace('-', '')">
                                                                ({{s.nbDecks}} decks)
                                                            </label>
                                                        </div>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                        <template v-if="scraperType.type === 'streamdecker' || scraperType.type === 'aetherhub'">
                                            <span v-if="scraperType.type === 'streamdecker'">
                                                Add your favorite users on <a href="https://www.streamdecker.com/" target="_blank">StreamDecker</a> to track their decks
                                            </span>
                                            <span v-if="scraperType.type === 'aetherhub'">
                                                Add your favorite users on <a href="https://www.aetherhub.com/" target="_blank">AetherHub</a> to track their decks
                                            </span>
                                            <div class="field has-addons">
                                                <div class="control">
                                                    <input v-model="scraperType.searchByUser" v-on:change="addUserScraper(scraperType.type, scraperType.searchByUser)" class="input" type="text" />
                                                </div>
                                                <div class="control">
                                                    <button class="button is-info" :disabled="isLoadingData('userScraperAsync')" v-on:click="addUserScraper(scraperType.type, scraperType.searchByUser)">Add</button>
                                                </div>
                                            </div>
                                            <div v-if="isLoadingData('userScraperAsync') && scraperIdLoading.startsWith(scraperType.type)">
                                                <span class="button is-loading"></span>
                                                Retrieving decks, results will come in a few moments.
                                            </div>
                                        </template>
                                        <table v-if="scraperType.byUser.length > 0" class="table is-narrow" style="background-color:unset;">
                                            <tbody>
                                                <tr v-for="s in scraperType.byUser">
                                                    <td v-bind:class="[ s.isActivated? 'has-text-weight-bold' : '']">
                                                        <a v-bind:href="s.url" target="_blank">{{formatScraperKey(s.id, false)}}</a>
                                                    </td>
                                                    <td>
                                                        <div class="field">
                                                            <input type="checkbox" v-bind:id="'scraper' + s.id.replace('-', '')" v-bind:name="'scraper' + s.id.replace('-', '')" class="switch"
                                                                   v-model="s.isActivated" v-on:change="saveUserScrapers()">
                                                            <label v-bind:for="'scraper' + s.id.replace('-', '')">
                                                                ({{s.nbDecks}} decks)
                                                            </label>
                                                        </div>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div v-else-if="currentPage === pageCustomDecks" class="columns">
                    <div class="column">
                        <h4 class="title is-4">Add a new custom deck</h4>
                        <div class="field">
                            <div class="control">
                                <label class="label">
                                    Url (optional)
                                    <span class="icon has-text-info tooltip is-tooltip-right is-tooltip-multiline" style="height:inherit;"
                                          data-tooltip="If the url is a valid deck from Aetherhub or MtgGoldfish, it will be automatically parsed">
                                        <i class="fas fa-info-circle"></i>
                                    </span>
                                    <span v-if="isLoadingData('userDeckFromUrl')" class="button is-loading"></span>
                                </label>
                                <input v-model="modelUserDeck.url" class="input is-success" v-on:change="getDeckFromUrl()"
                                       type="text" placeholder="e.g. http://tappedout.net/mtg-decks/xyz">
                            </div>
                        </div>
                        <div class="field">
                            <div class="control">
                                <label class="label">Name</label>
                                <input v-model="modelUserDeck.name" class="input" v-bind:class="modelUserDeck.name.length === 0 ? 'is-danger' : 'is-success'" type="text" placeholder="e.g. My deck" />
                            </div>
                        </div>
                        <div class="field">
                            <div class="control">
                                <label class="label">Deck pasted in MTGA format</label>
                                <textarea v-model="modelUserDeck.mtgaFormat" rows="12"
                                          class="textarea" v-bind:class="modelUserDeck.mtgaFormat.length === 0 ? 'is-danger' : 'is-success'"></textarea>
                            </div>
                        </div>
                        <div class="field">
                            <div class="control">
                                <button class="button is-info" :disabled="modelUserDeck.name.length === 0 || modelUserDeck.mtgaFormat.length === 0" v-on:click="addUserDeck();">Add new deck</button>
                            </div>
                        </div>
                    </div>
                    <div class="column">
                        <h4 class="title is-4">{{modelUser.decks.length}} custom decks</h4>
                        <template v-if="modelUser.decks.length > 0">
                            <span v-if="isLoadingData('userDecksGet')" class="button is-loading"></span>
                            <ul>
                                <li v-for="d in modelUser.decks">
                                    <a v-on:click="goToDeck(d.id, d.name)">{{d.name}}</a>
                                    <span class="delete is-small" data-tooltip="Stop tracking this deck" v-on:click.stop="deleteUserDeck(d.id)" style="margin-top:4px;"></span>
                                </li>
                            </ul>
                        </template>
                    </div>
                </div>
                <div v-else-if="currentPage === pageProfile">
                    <h4 class="title is-4">My profile</h4>
                    <div class="level box">
                        <div class="level-item">
                            <h5 class="subtitle is-5">
                                User id : {{modelUser.id}}
                            </h5>
                        </div>
                        <div class="level-item">
                            <div class="field">
                                <input type="checkbox" id="switchTheme" name="switchTheme" class="switch" v-model="themeIsDark" v-on:change="saveTheme()">
                                <label for="switchTheme">{{themeIsDark ? 'Dark' : 'Light'}}</label>
                                theme
                            </div>
                        </div>
                        <div class="level-item" v-if="modelUser.notificationsInactive.length > 0">
                            <div class="field tooltip is-tooltip-left"
                                 v-bind:data-tooltip="'Reactivate the ' + modelUser.notificationsInactive.length + ' hidden notification' + (modelUser.notificationsInactive.length === 1 ? '' : 's')">
                                <button type="button" class="button" v-on:click="resetNotifications()">
                                    Reset tips
                                </button>
                            </div>
                        </div>
                    </div>
                    <h4 class="title is-4">
                        Weights used for missing cards
                    </h4>
                    <h5 class="subtitle is-5">
                        These values determine the importance of each card based on its rarity and if it's mained/sideboarded.
                    </h5>
                    <span v-if="typeof modelUser.weights.Mythic === 'undefined'" class="button is-loading"></span>
                    <table v-else class="table is-bordered is-striped is-narrow" style="width:unset;">
                        <thead>
                            <tr>
                                <th>Rarity</th>
                                <th>Main</th>
                                <th>Sideboard</th>
                                <th v-if="showWeightsProposed()">
                                    <span class="tooltip" data-tooltip="Based on your available wildcards">
                                        <button class="button is-small is-info" v-on:click="applyUserWeightsProposed()">Use values</button>
                                    </span>
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Mythic</td>
                                <td>
                                    <input class="input is-small" type="text" v-model="modelUser.weights.Mythic.main" size="3" />
                                </td>
                                <td>
                                    <input class="input is-small" type="text" v-model="modelUser.weights.Mythic.sideboard" size="3" />
                                </td>
                                <td v-if="showWeightsProposed()" class="has-text-centered">
                                    {{modelUser.weightsProposed.Mythic}}
                                </td>
                            </tr>
                            <tr>
                                <td>Rare (Land)</td>
                                <td>
                                    <input class="input is-small" type="text" v-model="modelUser.weights.RareLand.main" size="3" />
                                </td>
                                <td>
                                    <input class="input is-small" type="text" v-model="modelUser.weights.RareLand.sideboard" size="3" />
                                </td>
                                <td v-if="showWeightsProposed()" class="has-text-centered">
                                    {{modelUser.weightsProposed.RareLand}}
                                </td>
                            </tr>
                            <tr>
                                <td>Rare (NonLand)</td>
                                <td>
                                    <input class="input is-small" type="text" v-model="modelUser.weights.RareNonLand.main" size="3" />
                                </td>
                                <td>
                                    <input class="input is-small" type="text" v-model="modelUser.weights.RareNonLand.sideboard" size="3" />
                                </td>
                                <td v-if="showWeightsProposed()" class="has-text-centered">
                                    {{modelUser.weightsProposed.RareNonLand}}
                                </td>
                            </tr>
                            <tr>
                                <td>Uncommon</td>
                                <td>
                                    <input class="input is-small" type="text" v-model="modelUser.weights.Uncommon.main" size="3" />
                                </td>
                                <td>
                                    <input class="input is-small" type="text" v-model="modelUser.weights.Uncommon.sideboard" size="3" />
                                </td>
                                <td v-if="showWeightsProposed()" class="has-text-centered">
                                    {{modelUser.weightsProposed.Uncommon}}
                                </td>
                            </tr>
                            <tr>
                                <td>Common</td>
                                <td>
                                    <input class="input is-small" type="text" v-model="modelUser.weights.Common.main" size="3" />
                                </td>
                                <td>
                                    <input class="input is-small" type="text" v-model="modelUser.weights.Common.sideboard" size="3" />
                                </td>
                                <td v-if="showWeightsProposed()" class="has-text-centered">
                                    {{modelUser.weightsProposed.Common}}
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <span class="tooltip is-tooltip-right" data-tooltip="Use the initial default values">
                        <button class="button is-danger" v-on:click="resetUserWeights()"
                                v-bind:class="getClassIsLoadingData('setWeights')" :disabled="isLoadingData('setWeights')">
                            Reset weights
                        </button>
                    </span>
                    <button class="button is-primary" v-on:click="setUserWeights()"
                            v-bind:class="getClassIsLoadingData('setWeights')" :disabled="isLoadingData('setWeights')">
                        Update weights
                    </button>
                    <div class="notification" style="margin-top:1em;">
                        <p>
                            <span class="icon has-text-info"><i class="fas fa-info-circle"></i></span>
                            All values are relative so the number matters less than the relationship between them: A card worth a total missing weight of 1,200 is twice more important to get than one worth 600.
                        </p>
                    </div>
                </div>
                <div v-else-if="currentPage === pageLands">
                    <h4 class="title is-4">
                        Basic lands preference when importing a deck
                    </h4>
                    <h5 class="subtitle is-5">
                        Select your favorite lands and only those will appear in your decks to import into the game client
                    </h5>
                    <span v-if="modelLands.length === 0 || isLoadingData('getLands')" class="button is-loading"></span>
                    <div v-else>
                        <div class="columns">
                            <div v-for="landType in modelLands" class="column">
                                <button v-on:click="currentPageProfileLandsType = landType.type"
                                        class="button is-fullwidth is-rounded" v-bind:class="[currentPageProfileLandsType === landType.type ? 'is-info' : '']">
                                    {{landType.type}}
                                </button>
                            </div>
                        </div>
                        <div class="columns is-multiline">
                            <div v-for="(land, index) in modelLands.filter((i) => { return i.type === currentPageProfileLandsType })[0].cards" class="column is-one-fifth has-text-centered" style="margin-bottom:1.5rem;">
                                <div class="field" style="margin-bottom:0;">
                                    <input type="checkbox" v-bind:id="'landPref' + currentPageProfileLandsType + index" v-bind:name="'landPref' + currentPageProfileLandsType + index"
                                           class="switch" v-model="land.isSelected" v-on:change="saveLandsPreference()">
                                    <label v-bind:for="'landPref' + currentPageProfileLandsType + index"></label>
                                </div>
                                <img v-bind:src="scryfallImagesPrefix + land.imageCardUrl" v-bind:title="land.name" style="width:100%; cursor:pointer;" v-on:click="toggleLand(land);saveLandsPreference();" />
                            </div>
                        </div>
                    </div>
                </div>
                <div v-else-if="currentPage === pageContact">
                    <h4 class="title is-4">
                        <i class="fas fa-envelope"></i>
                        Leave a message, feedback is appreciated
                    </h4>
                    <h5 class="subtitle is-5">To get a reply, be sure to include your email or some id (reddit, twitch, etc.)</h5>
                    <h6 class="title is-6">
                        For live interaction and to exchange with the community, you are welcome to join the
                        <a href="https://discord.gg/GTd3RMd" target="_blank">
                            Discord server
                            <i class="fab fa-discord my-float" style="margin-top:10px;"></i>
                        </a>
                    </h6>
                    <div class="field">
                        <div class="control">
                            <label class="label">Your message</label>
                            <textarea v-model="contactMessage" rows="12"
                                      class="textarea" v-bind:class="contactMessage.length === 0 ? 'is-danger' : 'is-success'"></textarea>
                        </div>
                    </div>
                    <div class="field has-addons">
                        <div class="control">
                            <button class="button is-info" :disabled="contactMessage.length === 0 || isLoadingData('sendMessage')" v-on:click="sendMessage();">Send message</button>
                        </div>
                        <div class="control">
                            <label class="label" style="padding:0.5rem 0 0 0.5rem;">Thanks!</label>
                        </div>
                    </div>
                </div>
                <div v-else-if="currentPage === pageChangelog">
                    <h4 class="title is-4">
                        <i class="fas fa-history"></i>
                        Changelog
                    </h4>
                    <ul class="menu-list noBullet">
                        <li v-for="v in modelChangelog">
                            v{{v.version}} {{v.date}}
                            <ul>
                                <li v-for="i in v.changes">
                                    <span>[{{i.section}}]</span>
                                    <span style="position:absolute; left:25rem;">{{i.description}}</span>
                                </li>
                            </ul>
                        </li>
                    </ul>
                </div>
                <div v-else-if="currentPage === pageAbout">
                    <h4 class="title is-4">
                        About MTGAHelper
                    </h4>
                    <div class="box">
                        <p>
                            Welcome!
                        </p>
                        <p>
                            So it happens I'm a programmer at heart and I got addicted to Magic: The Gathering Arena.
                            <br />
                            Then I started writing programs to help me analyze data like my collection, decks over all the web and such &mdash; and it culminated into the MTGAHelper tool.
                        </p>
                        <p>
                            I wanted to share it with all others MTGA enthusiasts out there. I hope you enjoy it!
                        </p>
                        <p>
                            If you appreciate the tools being provided, see how you can
                            <a v-on:click="showModalDonate = true;">help support the project</a>.
                            Thanks!
                        </p>
                    </div>
                </div>
                <div v-else-if="currentPage === pagePrivacy">
                    <h4 class="title is-4">
                        Privacy Notice
                    </h4>
                    <h6 class="subtitle is-6">
                        Last updated on April 3, 2019
                    </h6>
                    <div class="box">
                        <p>
                            This privacy notice discloses the privacy practices for MTGAHelper. This privacy notice applies solely to information collected by this website. It will notify you of the following:
                        </p>
                        <p>
                            <ol>
                                <li>What personally identifiable information is collected from you through the website, how it is used and with whom it may be shared;</li>
                                <li>What choices are available to you regarding the use of your data;</li>
                                <li>The security procedures in place to protect the misuse of your information;</li>
                                <li>How you can correct any inaccuracies in the information.</li>
                            </ol>
                        </p>
                        <h5 class="title is-5">
                            Information Collection, Use, and Sharing
                        </h5>
                        <p>
                            We are the sole owners of the information collected on this site.
                            We will not sell or rent this information to anyone.
                            We only have access to/collect information that you voluntarily give us via email or other direct contact from you.
                        </p>
                        <p>
                            We will use your information to respond to you, regarding the reason you contacted us.
                            We will not share your information with any third party outside of our organization, other than as necessary to fulfill your request.
                        </p>
                        <h5 class="title is-5">
                            Your Access to and Control Over Information
                        </h5>
                        <p>
                            You can do the following at any time by <a v-on:click="loadPage(pageContact)">contacting us</a>:
                            <ul>
                                <li>See what data we have about you, if any;</li>
                                <li>Change/correct any data we have about you;</li>
                                <li>Have us delete any data we have about you;</li>
                                <li>Opt out of any future contacts from us;</li>
                                <li>Express any concern you have about our use of your data.</li>
                            </ul>
                        </p>
                        <h5 class="title is-5">
                            Security
                        </h5>
                        <p>
                            We take precautions to protect your information. When you submit sensitive information via the website, your information is protected both online and offline.
                        </p>
                        <p>
                            Wherever we collect sensitive information, that information is encrypted and transmitted to us in a secure way.
                            You can verify this by looking for a lock icon in the address bar and looking for "https" at the beginning of the address of the Web page.
                        </p>
                        <p>
                            While we use encryption to protect sensitive information transmitted online, we also protect your information offline.
                            Only employees who need the information to perform a specific job (for example, billing or customer service) are granted access to personally identifiable information.
                            The computers/servers in which we store personally identifiable information are kept in a secure environment.
                        </p>
                        <h5 class="title is-5">
                            Cookies
                        </h5>
                        <p>
                            We use "cookies" on this site. A cookie is a piece of data stored on a site visitor's hard drive to help us improve your access to our site and identify repeat visitors to our site.
                            For instance, when we use a cookie to identify you, you would not have to log in a password more than once, thereby saving time while on our site.
                            Cookies can also enable us to track and target the interests of our users to enhance the experience on our site.
                            Usage of a cookie is in no way linked to any personally identifiable information on our site.
                        </p>
                        <p>
                            Some of our business partners may use cookies on our site (for example, advertisers). However, we have no access to or control over these cookies.
                        </p>
                        <h5 class="title is-5">
                            Links
                        </h5>
                        <p>
                            This website contains links to other sites. Please be aware that we are not responsible for the content or privacy practices of such other sites.
                            We encourage our users to be aware when they leave our site and to read the privacy statements of any other site that collects personally identifiable information.
                        </p>
                        <p>
                            If you feel that we are not abiding by this privacy policy, you should <a v-on:click="loadPage(pageContact)">contact us</a> immediately.
                        </p>
                    </div>
                </div>
                <div class="notification is-size-7" style="margin-top:1rem; padding:0.5rem 2.5rem 0.5rem 1.5rem;">
                    <p class="footerLinks">
                        <a v-on:click="loadPage(pagePrivacy)">Privacy policy</a>
                        <a v-on:click="loadPage(pageContact)">Contact us</a>
                        <a v-on:click="loadPage(pageAbout)">About</a>
                    </p>
                    <p>
                        All art is property of their respective artists and/or Wizards of the Coast Inc.
                        This website is not produced, endorsed, supported, or affiliated with Wizards of the Coast.
                        MTGAHelper is unofficial Fan Content permitted under the Fan Content Policy.
                    </p>
                </div>
                <div id="divCardImg" v-if="modelCardSelectedUrl !== ''" style="position:absolute; top:0; left:0; width:244px; height:340px; background-color:transparent; z-index:1000000;">
                    <img v-bind:src="modelCardSelectedUrl" />
                </div>
                <span class="float tooltip is-tooltip-left" data-tooltip="Join the discord server" style="right:153px; font-size: 1.4rem;">
                    <a href="https://discord.gg/GTd3RMd" target="_blank">
                        <i class="fab fa-discord my-float" style="margin-top:10px;"></i>
                    </a>
                </span>
                <span class="float tooltip is-tooltip-left" data-tooltip="Contact form" style="right:103px;" v-on:click="loadPage(pageContact)">
                    <i class="fas fa-envelope my-float"></i>
                </span>
                <span id="iconChangelog" class="float tooltip is-tooltip-left" data-tooltip="Changelog" style="right:53px;" v-on:click="loadPage(pageChangelog)">
                    <i class="fas fa-history my-float"></i>
                </span>
                <span class="float tooltip is-tooltip-left" data-tooltip="Help support the service" style="z-index:2147483647;" v-on:click="showModalDonate = true;">
                    <i class="fas fa-piggy-bank my-float"></i>
                </span>
                <!-- MODALS -->
                <div class="modal" v-bind:class="showLoginModal ? 'is-active' : ''">
                    <div class="modal-background" v-on:click="showLoginModal = false"></div>
                    <div class="modal-content box">
                        <div class="field is-grouped" style="justify-content: center;">
                            <span class="is-size-4" style="margin-right:1rem;">User id:</span>
                            <div class="field has-addons">
                                <div class="control">
                                    <input type="text" class="input" id="txtLoginId" v-on:change="tryToLoginWithUserId()" v-model="loginUserId"
                                           placeholder="3e67ec9fee324e9fa39742d563fc95ab" style="width:24rem;" />
                                </div>
                                <div class="control"><button class="button is-link" v-on:click="tryToLoginWithUserId()">Go</button></div>
                            </div>
                        </div>
                    </div>
                    <button class="modal-close is-large" aria-label="close" v-on:click="showLoginModal = false"></button>
                </div>
                <div class="modal" v-bind:class="showModalShareDeck ? 'is-active' : ''">
                    <div class="modal-background" v-on:click="showModalShareDeck = false"></div>
                    <div class="modal-content box">
                        <h6 class="title is-6">
                            {{deckToShare.name}}
                        </h6>
                        <input type="text" id="txtShareDeck" name="txtShareDeck" v-bind:value="getDeckUrl(deckToShare)" style="width:100%;" />
                    </div>
                </div>
                <div class="modal" v-bind:class="showUploadCollectionModal ? 'is-active' : ''">
                    <div class="modal-background" v-on:click="showUploadCollectionModal = false"></div>
                    <div class="modal-content box">
                        <div class="notification">
                            <span class="icon has-text-info"><i class="fas fa-info-circle"></i></span>
                            Important: Close your MTG Arena game before zipping the file
                        </div>
                        <p>
                            To upload your collection, find the <strong>output_log.txt</strong> file, for example go to the folder:
                        </p>
                        <p>
                            <code>
                                C:\Users\[YOUR USERNAME]\AppData\LocalLow\Wizards Of The Coast\MTGA
                            </code>
                        </p>
                        <p style="margin-top:1rem;">
                            <strong>Zip the output_log.txt</strong> file
                            <br />
                            and send it here (max size 15MB)
                        </p>
                        <div id="formSubmitCollection">
                            <form id="formSendCollection">
                                <div class="field">
                                    <div class="control">
                                        <input type="file" class="button" id="fileCollection" name="fileCollection" />
                                        <span style="padding:0.1rem 0.5rem;">
                                            &lt; --- Should be a zip file
                                        </span>
                                    </div>
                                </div>
                                <div class="field">
                                    <div class="control">
                                        <span onclick="submitCollection();" class="button is-primary"
                                              v-bind:class="getClassIsLoadingData('collectionPost')" :disabled="isLoadingData('collectionPost')">
                                            Submit
                                        </span>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                    <button class="modal-close is-large" aria-label="close" v-on:click="showUploadCollectionModal = false"></button>
                </div>
                <div class="modal modalTopLevel" v-bind:class="showModalDonate ? 'is-active' : ''">
                    <div class="modal-background" v-on:click="showModalDonate = false"></div>
                    <div class="modal-content box">
                        <h4 class="title is-4">
                            <i class="fas fa-piggy-bank"></i>
                            Help improve MTGAHelper
                        </h4>
                        <div>
                            Monthly objective for ideal server availability: 25 / 100$
                            <div style="margin:2rem;">
                                <progress class="progress" value="25" max="100">25%</progress>
                            </div>
                        </div>
                        <p>
                            If you would like to support this service monthly, you can do so with
                            <strong><a href="https://www.patreon.com/mtgahelper" target="_blank">Patreon</a></strong>
                            <br />
                            It is also possible to make a donation through
                            <strong><a href="https://www.paypal.me/mtgahelper" target="_blank">Paypal</a></strong>
                        </p>
                        <div class="box">
                            <h5 class="title is-5">
                                FREE ways to support MTGAHelper
                            </h5>
                            <div><i class="fab fa-amazon"></i> <a target="_blank" href="https://www.amazon.com?tag=mtgahelper03-20">Use this referral link when shopping on <strong>Amazon</strong> to help us without costing you a penny</a></div>
                            <div style="margin-top:0.5rem"><i class="far fa-heart"></i> Spread the word! Help people discover MTGAHelper</div>
                            <div style="margin-top:0.5rem"><i class="fas fa-mouse-pointer"></i> Whitelist this site from your ad-blocker</div>
                        </div>
                        <div style="margin-top:1.5rem">
                            <h4 class="title is-4">A huge thanks to everyone supporting this</h4>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="pageloader" style="z-index:2000000000;"
             v-bind:class="[isAppLoaded === false || isLoadingData('collectionPost') || isLoadingData('collectionGet') || isLoadingLotsOfDecks() ? 'is-active' : '']">
            <div id="msg" class="title" style="text-align:center; width:25%; white-space:normal;">Please wait...</div>
        </div>
    </div>
    <!--<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <script>
        (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-2774985369289253",
            enable_page_level_ads: true
        });
    </script>-->
    <div id="divInitialLoader" class="pageloader is-active">
        <span class="title">Please wait...</span>
    </div>
    <!-- Script placement optimized -->
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            if (window.Event) {
                document.captureEvents(Event.MOUSEMOVE);
            }
            document.onmousemove = getCursorXY;
        });

        function getCursorXY(e) {
            var x = (window.Event) ? e.pageX : event.clientX + (document.documentElement.scrollLeft ? document.documentElement.scrollLeft : document.body.scrollLeft);
            var y = (window.Event) ? e.pageY : event.clientY + (document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop);
            vueApp.mouseX = x;
            vueApp.mouseY = y;
        }
    </script>
    <script src="https://cdn.jsdelivr.net/npm/vue"></script>
    <script src="js/vueApp.js"></script>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-137512649-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'UA-137512649-1');
    </script>
</body>
